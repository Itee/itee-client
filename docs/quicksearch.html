<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"sources_workers_AbstractWorker.js.html":{"id":"sources_workers_AbstractWorker.js.html","title":"Source: sources/workers/AbstractWorker.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/workers/AbstractWorker.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isArray, isArrayBuffer, isEmptyString, isNotArray, isNotDefined, isNotString } from 'itee-validators' import { WorkerMessageData } from './messages/WorkerMessageData' import { WorkerMessageError } from './messages/WorkerMessageError' import { WorkerMessageProgress } from './messages/WorkerMessageProgress' /** * @class * @classdesc Base worker interface that allow messaging between callee and caller */ class AbstractWorker { /** * * @param progress */ postProgress ( progress ) { if ( progress.isWorkerMessageProgress ) { postMessage( progress.toJSON() ) } else { postMessage( new WorkerMessageProgress( progress.loaded, progress.total ).toJSON() ) } } /** * * @param error */ postError ( error ) { if ( error.isWorkerMessageError ) { postMessage( error.toJSON() ) } else { postMessage( new WorkerMessageError( error ).toJSON() ) } } /** * * @param type * @param arrayBuffer */ postData ( type, arrayBuffer ) { if ( isArray( arrayBuffer ) ) { postMessage( new WorkerMessageData( type, arrayBuffer ).toJSON(), [ ...arrayBuffer ] ) } else if ( isArrayBuffer( arrayBuffer ) ) { postMessage( new WorkerMessageData( type, arrayBuffer ).toJSON(), [ arrayBuffer ] ) } else { throw new TypeError( `AbstractWorker.postData: Unable to post data of type [${ type }].` ) } } /** * * @param message * @returns {boolean} */ onMessage ( message ) { if ( isNotDefined( message ) ) { this.postError( new Error( 'Message event cannot be null or undefined !' ) ) return true } const data = message.data if ( isNotDefined( data ) ) { this.postError( new Error( 'Message data cannot be null or undefined !' ) ) return true } const dataType = data.type if ( isNotDefined( dataType ) ) { this.postError( new Error( 'Message data type cannot be null or undefined !' ) ) return true } if ( data.type === 'methodCall' ) { const methodName = data.method if ( isNotDefined( methodName ) ) { this.postError( new Error( 'Message of type \"methodCall\" cannot have null, undefined or empty name !' ) ) return true } if ( isNotString( methodName ) ) { this.postError( new Error( 'Message of type \"methodCall\" expect name to be a string !' ) ) return true } if ( isEmptyString( methodName ) ) { this.postError( new Error( 'Message of type \"methodCall\" expect name to be a non empty string !' ) ) return true } const methodParameters = data.parameters || [] if ( isNotArray( methodParameters ) ) { this.postError( new Error( 'Message of type \"methodCall\" expect parameters to be an array !' ) ) return true } this._invoke( methodName, methodParameters ) return true } } /** * * @param name * @param parameters * @private */ _invoke ( name, parameters = [] ) { try { const result = this[ name ]( ...parameters ) if ( result ) { postMessage( { type: name, result: result } ) } } catch ( error ) { this.postError( error ) } } } export { AbstractWorker } × Search results Close "},"sources_webapis_WebAPI.js.html":{"id":"sources_webapis_WebAPI.js.html","title":"Source: sources/webapis/WebAPI.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/WebAPI.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { DefaultLogger } from 'itee-core' import { toArray } from 'itee-utils' import { isDefined, isEmptyArray, isNotDefined, isNotNumber, isNull, isNumberNegative, isObject, isString, isUndefined, isZero } from 'itee-validators' import { WebAPIMessageData } from './messages/WebAPIMessageData' import { WebAPIMessageError } from './messages/WebAPIMessageError' import { WebAPIMessageEvent } from './messages/WebAPIMessageEvent' import { WebAPIMessageReady } from './messages/WebAPIMessageReady' import { WebAPIMessageRequest } from './messages/WebAPIMessageRequest' import { WebAPIMessageResponse } from './messages/WebAPIMessageResponse' import { WebAPIOrigin } from './WebAPIOrigin' /** * A POJO object containg datas about a distant source to allow * @typedef {Object} AllowedOrigin * @property {string} id - The id to reference this origin as a human readable string * @property {string} uri - The uri of the origin to allow * @property {Array&lt;String&gt;} methods - An array of methods names that are allowed for this origins. To allow all methods use '*', in case no methods string were provide the origin won't be able to do * anything. */ /** * @class * @classdesc The abstract class to use standardized webapi. * @abstract */ class WebAPI { /** * @constructor * @param {Object} parameters - An object containing all parameters to pass through the inheritance chain to initialize this instance * @param {Boolean} [parameters.allowAnyOrigins=false] - A boolean to allow or not any origins calls * @param {Array&lt;AllowedOrigin&gt;} [parameters.allowedOrigins=[]] - An array containing configured allowed origins * @param {Number} [parameters.requestTimeout=2000] - The request timeout before throw an error */ constructor ( parameters = {} ) { const _parameters = { ...{ logger: DefaultLogger, allowedOrigins: [], requestTimeout: 2000, methods: this, broadcastReadyOnInit: true }, ...parameters } // Private stuff this._localOriginUri = window.location.origin this._awaitingRequest = new Map() this._eventListeners = {} //\"eventName\" : [ callback1, ... ] // Listen message from Window window.addEventListener( 'message', this._onMessage.bind( this ), false ) // Public stuff this.logger = _parameters.logger this.allowedOrigins = _parameters.allowedOrigins this.requestTimeout = _parameters.requestTimeout this.methods = _parameters.methods // Initiate connection to all origins if ( _parameters.broadcastReadyOnInit ) { this._broadcastReadyMessage() } } /** * * @returns {TLogger} */ get logger () { return this._logger } /** * * @param value {TLogger} */ set logger ( value ) { if ( isNull( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The logger cannot be null, expect a TLogger.` )} if ( isUndefined( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The logger cannot be undefined, expect a TLogger.` )} if ( !value.isLogger ) { throw new ReferenceError( `[${ this._localOriginUri }]: The logger cannot be undefined, expect a TLogger.` )} this._logger = value } /** * * @returns {Array&lt;WebAPIOrigin&gt;} */ get allowedOrigins () { return this._allowedOrigins } /** * * @param value {Array&lt;WebAPIOrigin&gt;} */ set allowedOrigins ( value ) { this._allowedOrigins = [] const _allowedOrigins = toArray( value ) // Special case for any origin // Todo: should log error in production and cancel '*' if ( _allowedOrigins.includes( '*' ) ) { this.logger.warn( `[${ this._localOriginUri }]: This webApi is allowed for all origin and could lead to security concerne !` ) this._allowedOrigins.push( '*' ) return } // Create WebApiOrigin based on provided settings for ( let allowedOrigin of _allowedOrigins ) { const origin = new WebAPIOrigin( { id: allowedOrigin.id, uri: allowedOrigin.uri, methods: allowedOrigin.methods, window: this._getOriginWindow( allowedOrigin.uri ) } ) this._allowedOrigins.push( origin ) } } /** * * @returns {Number} */ get requestTimeout () { return this._requestTimeout } /** * * @param value {Number} */ set requestTimeout ( value ) { if ( isNull( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The request timeout cannot be null, expect to be 0 or a positive number.` )} if ( isUndefined( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The request timeout cannot be undefined, expect to be 0 or a positive number.` )} if ( isNotNumber( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The request timeout expect to be 0 or a positive number.` )} if ( isNumberNegative( value ) &amp;&amp; !isZero( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The request timeout expect to be 0 or a positive number.` )} this._requestTimeout = value } /** * * @returns {Array&lt;Function&gt;} */ get methods () { return this._methods } /** * * @param value Array&lt;Function&gt; */ set methods ( value ) { if ( isNull( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The methods cannot be null, expect any keyed collection of function.` )} if ( isUndefined( value ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: The methods cannot be undefined, expect any keyed collection of function.` )} // Todo: isNotObject &amp;&amp; isNotMap &amp;&amp; isNotSet &amp;&amp; isNotApi this._methods = value } /** * * @param value {TLogger} * @returns {AbstractWebAPI} */ setLogger ( value ) { this.logger = value return this } /** * * @param value {Array&lt;WebAPIOrigin&gt;} * @returns {AbstractWebAPI} */ setAllowedOrigins ( value ) { this.allowedOrigins = value return this } /** * * @param value {Number} * @returns {AbstractWebAPI} */ setRequestTimeout ( value ) { this.requestTimeout = value return this } /** * * @param value Array&lt;Function&gt; * @returns {AbstractWebAPI} */ setMethods ( value ) { this.methods = value return this } addEventListener ( eventName, listener ) { if ( isNotDefined( this._eventListeners[ eventName ] ) ) { this._eventListeners[ eventName ] = [] } this._eventListeners[ eventName ].push( listener ) } removeListener ( eventName, listener ) { if ( isNotDefined( this._eventListeners[ eventName ] ) ) { return } const index = this._eventListeners[ eventName ].indexOf( listener ) if ( index &gt; -1 ) { this._eventListeners[ eventName ].splice( index, 1 ) } } // Validators /** * * @returns {boolean} * @private */ _isInIframe () { try { return window.self !== window.top } catch ( e ) { return true } } /** * * @returns {boolean} * @private */ _isNotAllowedForAllOrigins () { return !this._allowedOrigins.includes( '*' ) // return !this.allowAnyOrigins } /** * * @param originURI * @returns {boolean} * @private */ _isNotAllowedOrigin ( originURI ) { return !this._allowedOrigins .filter( origin =&gt; origin !== '*' ) .map( origin =&gt; origin.uri ) .includes( originURI ) } /** * * @param originURI * @returns {boolean} * @private */ _isSameOrigin ( originURI ) { return this._localOriginUri === originURI } /** * * @param origin {WebAPIOrigin} * @returns {boolean} * @private */ _isNotAllowedForAllMethods ( origin ) { return ( origin.allowedMethods.indexOf( '*' ) === -1 ) } /** * * @param origin {WebAPIOrigin} * @param methodName {string} * @returns {boolean} * @private */ _isNotAllowedMethod ( origin, methodName ) { return ( origin.allowedMethods.indexOf( methodName ) === -1 ) } /** * * @param methodName * @returns {boolean} * @private */ _methodNotExist ( methodName ) { return isNotDefined( this.methods[ methodName ] ) } // Utils /** * * @param propertyName * @param value * @returns {WebAPIOrigin} * @private */ _getAllowedOriginBy ( propertyName, value ) { return this.allowedOrigins.find( origin =&gt; origin[ propertyName ] === value ) } /** * * @param originURI * @returns {Window} * @private */ _getOriginWindow ( originURI ) { let originWindow if ( this._isInIframe() ) { originWindow = window.parent } else { const frames = document.getElementsByTagName( 'iframe' ) const frame = Array.from( frames ).find( iframe =&gt; iframe.src.includes( originURI ) ) if ( isNotDefined( frame ) ) { this.logger.warn( `[${ this._localOriginUri }]: Unable to find iframe element for [${ originURI }] URI !` ) originWindow = null } else { originWindow = frame.contentWindow } } return originWindow } /** * * @param origin {WebAPIOrigin} * @private */ _processMessageQueueOf ( origin ) { const messageQueue = origin.messageQueue for ( let messageIndex = messageQueue.length - 1 ; messageIndex &gt;= 0 ; messageIndex-- ) { this.postMessageTo( origin.id, messageQueue.shift() ) } } /** * * @private */ _broadcastReadyMessage () { const ready = new WebAPIMessageReady() let checkInterval = 250 const broadcast = () =&gt; { const unreadyOrigins = this.allowedOrigins.filter( origin =&gt; !origin.isReady &amp;&amp; origin.isReachable ) if ( isEmptyArray( unreadyOrigins ) ) { return } for ( let unreadyOrigin of unreadyOrigins ) { this.postReadyTo( unreadyOrigin.id, ready ) } checkInterval += checkInterval setTimeout( broadcast, checkInterval ) } broadcast() } // Messaging /** * * @param event * @returns {Promise&lt;void&gt;} * @private */ async _onMessage ( event ) { // Is allowed origin if ( this._isNotAllowedForAllOrigins() &amp;&amp; this._isNotAllowedOrigin( event.origin ) ) { this.logger.warn( `[${ this._localOriginUri }]: An unallowed origin [${ event.origin }] try to access the web api.` ) return } // Is self ? if ( this._isSameOrigin( event.origin ) ) { this.logger.warn( `[${ this._localOriginUri }]: A local origin try to access the web api... or... Am i talking to myself ? Said i (${ isString( event.data ) ? event.data : JSON.stringify( event.data ) }) ? Hummm... Ehhooo ! Who's there ? ` ) return } // In case we are not in embbeded iframe or the origin is not an iframe set the origin window as the source event let origin = this._getAllowedOriginBy( 'uri', event.origin ) if ( isNotDefined( origin ) ) { // If we are here, we are called by an unknown origin but we are allowed for all. So create a new one origin = new WebAPIOrigin( { uri: event.origin, window: event.source } ) this.allowedOrigins.push( origin ) } else if ( isNull( origin.window ) ) { origin.window = event.source } const eventData = event.data const message = isObject( eventData ) ? eventData : JSON.parse( eventData ) if ( isNotDefined( message ) ) { this.logger.error( `[${ this._localOriginUri }]: Recieve null or undefined message from [${ origin.uri }] ! Expect a json object.` ) return } await this._dispatchMessageFrom( origin, message ) } /** * * @param origin * @param message * @private */ async _dispatchMessageFrom ( origin, message ) { this.logger.log( `[${ this._localOriginUri }]: Recieve message of type '${ message.type }' from [${ origin.uri }].` ) switch ( message.type ) { case '_ready': this._onReadyFrom( origin, message ) break case '_request': await this._onRequestFrom( origin, message ) break case '_response': this._onResponseFrom( origin, message ) break case '_data': this.onDataFrom( origin, message ) break case '_event': this.onEventFrom( origin, message ) break case '_error': this.onErrorFrom( origin, message ) break default: this.onMessageFrom( origin, message ) } } /** * * @param origin * @param message */ _onReadyFrom ( origin, message ) { if ( !origin.isReady ) { origin.isReady = true // Avoid some ping-pong ready message if ( !message.isBind ) { const ready = new WebAPIMessageReady( { isBind: true } ) this.postMessageTo( origin.id, ready, true ) } } this._processMessageQueueOf( origin ) } /** * * @param origin * @param request */ async _onRequestFrom ( origin, request ) { let message const methodName = request.method const parameters = request.parameters if ( this._isNotAllowedForAllMethods( origin ) &amp;&amp; this._isNotAllowedMethod( origin, methodName ) ) { this.logger.error( `[${ this._localOriginUri }]: Origin [${ origin.uri }] try to access an unallowed method named '${ methodName }'.` ) message = new WebAPIMessageError( new RangeError( `Trying to access an unallowed method named '${ methodName }'.` ) ) } else if ( this._methodNotExist( methodName ) ) { this.logger.error( `[${ this._localOriginUri }]: Origin [${ origin.uri }] try to access an unexisting method named '${ methodName }'.` ) message = new WebAPIMessageError( new RangeError( `Trying to access an unexisting method named '${ methodName }'.` ) ) } else { try { const result = await this.methods[ methodName ]( ...parameters ) message = new WebAPIMessageData( result ) } catch ( error ) { message = new WebAPIMessageError( error ) } } // To avoid unnecessary client timeout we need to respond with error or data in any case this.postResponseTo( origin.id, request, message ) } /** * * @param origin * @param response */ _onResponseFrom ( origin, response ) { const requestId = response.request.id if ( !this._awaitingRequest.has( requestId ) ) { return } const request = this._awaitingRequest.get( requestId ) this._awaitingRequest.delete( requestId ) clearTimeout( request.timeoutId ) const result = response.result if ( isDefined( result ) ) { if ( result.type === '_error' ) { request.reject( result.error ) } else if ( result.type === '_data' ) { request.resolve( result.data ) } else { request.resolve( result ) } } else { request.resolve() } } /** * * @param origin * @param message * @private */ // eslint-disable-next-line no-unused-vars onErrorFrom ( origin, message ) { // Need to be reimplemented if needed this.logger.error( `[${ this._localOriginUri }]: the origin [${ origin.uri }] send error =&gt; ${ JSON.stringify( message.error, null, 4 ) }. Need you to reimplement this method ?` ) } /** * * @param origin * @param message */ // eslint-disable-next-line no-unused-vars onDataFrom ( origin, message ) { // Need to be reimplemented if needed this.logger.log( `[${ this._localOriginUri }]: the origin [${ origin.uri }] send data =&gt; ${ JSON.stringify( message.data, null, 4 ) }. Need you to reimplement this method ?` ) } /** * * @param origin * @param message */ // eslint-disable-next-line no-unused-vars onMessageFrom ( origin, message ) { // Need to be reimplemented if needed this.logger.log( `[${ this._localOriginUri }]: the origin [${ origin.uri }] send custom message =&gt; ${ JSON.stringify( message, null, 4 ) }. Need you to reimplement this method ?` ) } onEventFrom ( origin, event ) { const listeners = this._eventListeners[ event.name ] for ( const listener of listeners ) { listener( event.data ) } } // Send /** * * @param originId * @param ready */ postReadyTo ( originId, ready ) { const _ready = ( ready &amp;&amp; ready.constructor.isWebAPIMessageReady ) ? ready : new WebAPIMessageReady() this.postMessageTo( originId, _ready, true ) } /** * * @param originId * @param request * @param params * @returns {Promise&lt;unknown&gt;} */ postRequestTo ( originId, request, ...params ) { const _request = ( request &amp;&amp; request.constructor.isWebAPIMessageRequest ) ? request : new WebAPIMessageRequest( request, params ) return new Promise( ( resolve, reject ) =&gt; { try { this._awaitingRequest.set( _request.id, { request: _request, resolve: resolve, reject: reject, timeoutId: setTimeout( () =&gt; { this._awaitingRequest.delete( _request.id ) reject( new Error( `Request timeout for ${ JSON.stringify( _request, null, 4 ) }` ) ) //Todo send abort to avoid future return that won't be processed }, this.requestTimeout ) } ) this.postMessageTo( originId, _request ) } catch ( error ) { reject( error ) } } ) } /** * * @param originId * @param request * @param reponse */ postResponseTo ( originId, request, reponse ) { const _response = ( reponse &amp;&amp; reponse.constructor.isWebAPIMessageResponse ) ? reponse : new WebAPIMessageResponse( request, reponse ) this.postMessageTo( originId, _response ) } /** * * @param originId * @param error {WebAPIMessageError|String} */ postErrorTo ( originId, error ) { const _error = ( error &amp;&amp; error.constructor.isWebAPIMessageError ) ? error : new WebAPIMessageError( error ) this.postMessageTo( originId, _error ) } /** * * @param originId * @param data */ postDataTo ( originId, data ) { const _data = ( data &amp;&amp; data.constructor.isWebAPIMessageData ) ? data : new WebAPIMessageData( data ) this.postMessageTo( originId, _data ) } /** * * @param originId * @param message * @param force */ postMessageTo ( originId, message, force = false ) { if ( isNotDefined( originId ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: Unable to post message to null or undefined origin id !` ) } if ( isNotDefined( message ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: Unable to post null or undefined message !` ) } const origin = this._getAllowedOriginBy( 'id', originId ) if ( isNotDefined( origin ) ) { throw new ReferenceError( `[${ this._localOriginUri }]: Unable to retrieved origin with id: ${ originId }` ) } try { if ( !force &amp;&amp; !origin.isReady ) { this.logger.warn( `[${ this._localOriginUri }]: Origin [${ origin.uri }] is not ready yet !` ) origin.messageQueue.push( message ) } else if ( force &amp;&amp; !origin.window ) { this.logger.error( `[${ this._localOriginUri }]: Origin [${ origin.uri }] is unreachable !` ) // origin.isUnreachable = true origin.messageQueue.push( message ) } else { this.logger.log( `[${ this._localOriginUri }]: Send message of type '${ message.type }' to [${ origin.uri }]` ) origin.window.postMessage( JSON.stringify( message ), origin.uri ) } } catch ( error ) { this.logger.error( error ) } } postEvent ( name = 'DefaultEventName', data ) { const _data = ( data &amp;&amp; data.constructor.isWebAPIMessageEvent ) ? data : new WebAPIMessageEvent( name, data ) // Broadcast to all potential listener const allowedOrigins = this._allowedOrigins.filter( origin =&gt; origin !== '*' ) for ( let i = 0 ; i &lt; allowedOrigins.length ; i++ ) { const allowedOrigin = allowedOrigins[ i ] const originId = allowedOrigin.id this.postMessageTo( originId, _data ) } } } export { WebAPI } × Search results Close "},"sources_loaders_TBinaryReader.js.html":{"id":"sources_loaders_TBinaryReader.js.html","title":"Source: sources/loaders/TBinaryReader.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/loaders/TBinaryReader.js import { toEnum } from 'itee-utils' import { isNotArrayBuffer, isNotBoolean, isNotNumber, isNull, isUndefined } from 'itee-validators' /* eslint-env browser */ /** * @typedef {Enum} Endianness * @property {Boolean} Little=true - The Little endianess * @property {Number} Big=false - The Big endianess * * @constant * @type {Endianness} * @description Endianness enum allow semantic usage. */ const Endianness = toEnum( { Little: true, Big: false } ) /** * @typedef {Enum} Byte * @property {Number} One=1 - Octet * @property {Number} Two=2 - Doublet * @property {Number} Four=4 - Quadlet * @property {Number} Height=8 - Octlet * * @constant * @type {Byte} * @description Byte allow semantic meaning of quantity of bytes based on power of two. */ const Byte = toEnum( { One: 1, Two: 2, Four: 4, Eight: 8 } ) /** * @class * @classdesc TBinaryReader is design to perform fast binary read/write * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TBinaryReader { /** * @constructor * @param [parameters] * @param parameters.buffer * @param parameters.offset * @param parameters.length * @param parameters.endianness */ constructor ( parameters = {} ) { const _parameters = { ...{ buffer: new ArrayBuffer( 0 ), offset: 0, length: 0, endianness: Endianness.Little }, ...parameters } this.buffer = _parameters.buffer // this.offset = _parameters.offset // this.length = _parameters.length this.endianness = _parameters.endianness // For bit reading use same approche than byte this._bits = { buffer: null, offset: 0, length: 0 } this._updateDataView() } /** * * @returns {*} */ get buffer () { return this._buffer } set buffer ( value ) { const memberName = 'Buffer' const expect = 'Expect an instance of ArrayBuffer.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotArrayBuffer( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._buffer = value this._offset = 0 this._length = value.byteLength this._updateDataView() } /** * * @returns {*} */ get offset () { return this._offset } set offset ( value ) { const memberName = 'Offset' const expect = 'Expect a number.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotNumber( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._offset = value this._updateDataView() } get length () { return this._length } /** * * @param value */ set length ( value ) { const memberName = 'Length' const expect = 'Expect a number.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotNumber( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._length = value this._updateDataView() } /** * * @returns {*} */ get endianness () { return this._endianness } set endianness ( value ) { const memberName = 'Endianness' const expect = 'Expect a boolean.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotBoolean( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._endianness = value } /** * * @param buffer * @param offset * @param length * @returns {TBinaryReader} */ setBuffer ( buffer, offset, length ) { this.buffer = buffer this.offset = offset || 0 this.length = length || buffer.byteLength return this } /** * * @param value * @returns {TBinaryReader} */ setOffset ( value ) { this.offset = value return this } /** * * @param value * @returns {TBinaryReader} */ setLength ( value ) { this.length = value return this } /** * * @param endianness * @returns {TBinaryReader} */ setEndianness ( endianness ) { this.endianness = endianness return this } /** * * @param increment * @returns {*} * @private */ _getAndUpdateOffsetBy ( increment ) { const currentOffset = this._offset this._offset += increment return currentOffset } /** * * @private */ _updateDataView () { this._dataView = new DataView( this._buffer, this._offset, this._length ) } /** * * @returns {boolean} */ isEndOfFile () { return ( this._offset === this._length ) } // Bits _isNullBitBuffer () { return this._bits.buffer === null } _nextBit () { this._bits.offset += 1 } _isEndOfBitBuffer () { return this._bits.offset === this._bits.length } _isOutOfRangeBitOffset ( offset ) { return offset &gt; this._bits.length } _readBit8 () { this._bits.buffer = this.getUint8() this._bits.length = 8 this._bits.offset = 0 } _readBit16 () { this._bits.buffer = this.getUint16() this._bits.length = 16 this._bits.offset = 0 } _readBit32 () { this._bits.buffer = this.getUint32() this._bits.length = 32 this._bits.offset = 0 } _getBitAt ( bitOffset ) { return ( this._bits.buffer &amp; ( 1 &lt;&lt; bitOffset ) ) === 0 ? 0 : 1 } _resetBits () { this._bits.buffer = null this._bits.length = 0 this._bits.offset = 0 } skipBitOffsetTo ( bitOffset ) { //todo is positive bitoffset // In case we start directly by a skip offset try to determine which kind of data is expected if ( this._isNullBitBuffer() ) { if ( bitOffset &lt;= 8 ) { this._readBit8() } else if ( 8 &lt; bitOffset &amp;&amp; bitOffset &lt;= 16 ) { this._readBit16() } else if ( 16 &lt; bitOffset &amp;&amp; bitOffset &lt;= 32 ) { this._readBit32() } else { throw new RangeError( 'You cannot skip more than 32 bits. Please use skipOffsetOf instead !' ) } } else if ( this._isOutOfRangeBitOffset( bitOffset ) ) { throw new RangeError( 'Bit offset is out of range of the current bits field.' ) } this._bits.offset = bitOffset if ( this._isEndOfBitBuffer() ) { this._resetBits() } } skipBitOffsetOf ( nBits ) { this.skipBitOffsetTo( this._bits.offset + nBits ) } getBit8 ( moveNext = true ) { if ( this._isNullBitBuffer() ) { this._readBit8() } const bitValue = this._getBitAt( this._bits.offset ) if ( moveNext ) { this._nextBit() if ( this._isEndOfBitBuffer() ) { this._resetBits() } } return bitValue } getBits8 ( numberOfBitToRead, moveNext = true ) { const currentOffset = this._bits.offset let bits = 0 // In last turn avoid bits reset if move next is false, // else the skipBitOffset will be based on reseted/null bit buffer for ( let i = 0 ; i &lt; numberOfBitToRead ; i++ ) { if ( i === numberOfBitToRead - 1 ) { bits |= ( this.getBit8( moveNext ) &lt;&lt; i ) } else { bits |= ( this.getBit8() &lt;&lt; i ) } } if ( !moveNext ) { this.skipBitOffsetTo( currentOffset ) } return bits } getBit16 ( moveNext = true ) { if ( this._isNullBitBuffer() ) { this._readBit16() } const bitValue = this._getBitAt( this._bits.offset ) if ( moveNext ) { this._nextBit() if ( this._isEndOfBitBuffer() ) { this._resetBits() } } return bitValue } getBits16 ( numberOfBitToRead, moveNext = true ) { const currentOffset = this._bits.offset let bits = 0 // In last turn avoid bits reset if move next is false, // else the skipBitOffset will be based on reseted/null bit buffer for ( let i = 0 ; i &lt; numberOfBitToRead ; i++ ) { if ( i === numberOfBitToRead - 1 ) { bits |= ( this.getBit16( moveNext ) &lt;&lt; i ) } else { bits |= ( this.getBit16() &lt;&lt; i ) } } if ( !moveNext ) { this.skipBitOffsetTo( currentOffset ) } return bits } getBit32 ( moveNext = true ) { if ( this._isNullBitBuffer() ) { this._readBit32() } const bitValue = this._getBitAt( this._bits.offset ) if ( moveNext ) { this._nextBit() if ( this._isEndOfBitBuffer() ) { this._resetBits() } } return bitValue } getBits32 ( numberOfBitToRead, moveNext = true ) { const currentOffset = this._bits.offset let bits = 0 // In last turn avoid bits reset if move next is false, // else the skipBitOffset will be based on reseted/null bit buffer for ( let i = 0 ; i &lt; numberOfBitToRead ; i++ ) { if ( i === numberOfBitToRead - 1 ) { bits |= ( this.getBit32( moveNext ) &lt;&lt; i ) } else { bits |= ( this.getBit32() &lt;&lt; i ) } } if ( !moveNext ) { this.skipBitOffsetTo( currentOffset ) } return bits } // Bytes /** * * @param offset */ skipOffsetTo ( offset ) { this._offset = offset } /** * * @param nBytes */ skipOffsetOf ( nBytes ) { this._offset += nBytes } /** * * @returns {boolean} */ getBoolean ( moveNext = true ) { return ( ( this.getUint8( moveNext ) &amp; 1 ) === 1 ) } /** * * @param length * @param moveNext * @returns {Array} */ getBooleanArray ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getBoolean() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getInt8 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.One ) : this._offset return this._dataView.getInt8( offset ) } /** * * @param length * @param moveNext * @returns {Array} */ getInt8Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getInt8() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getUint8 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.One ) : this._offset return this._dataView.getUint8( offset ) } /** * * @param length * @param moveNext * @returns {Array} */ getUint8Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getUint8() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getInt16 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Two ) : this._offset return this._dataView.getInt16( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getInt16Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getInt16() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getUint16 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Two ) : this._offset return this._dataView.getUint16( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getUint16Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getUint16() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getInt32 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset return this._dataView.getInt32( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getInt32Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getInt32() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getUint32 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset return this._dataView.getUint32( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getUint32Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getUint32() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getInt64 ( moveNext = true ) { // From THREE.FBXLoader // JavaScript doesn't support 64-bit integer so attempting to calculate by ourselves. // 1 &lt;&lt; 32 will return 1 so using multiply operation instead here. // There'd be a possibility that this method returns wrong value if the value // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER. // TODO: safely handle 64-bit integer let low = null let high = null if ( this._endianness === Endianness.Little ) { if ( moveNext ) { low = this.getUint32() high = this.getUint32() } else { const currentOffset = this._offset low = this.getUint32() high = this.getUint32() this.skipOffsetTo( currentOffset ) } } else { if ( moveNext ) { high = this.getUint32() low = this.getUint32() } else { const currentOffset = this._offset high = this.getUint32() low = this.getUint32() this.skipOffsetTo( currentOffset ) } } // calculate negative value if ( high &amp; 0x80000000 ) { high = ~high &amp; 0xFFFFFFFF low = ~low &amp; 0xFFFFFFFF if ( low === 0xFFFFFFFF ) { high = ( high + 1 ) &amp; 0xFFFFFFFF } low = ( low + 1 ) &amp; 0xFFFFFFFF return -( high * 0x100000000 + low ) } return high * 0x100000000 + low } /** * * @param length * @param moveNext * @returns {Array} */ getInt64Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getInt64() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getUint64 ( moveNext = true ) { // Note: see getInt64() comment let low = null let high = null if ( this._endianness === Endianness.Little ) { if ( moveNext ) { low = this.getUint32() high = this.getUint32() } else { const currentOffset = this._offset low = this.getUint32() high = this.getUint32() this.skipOffsetTo( currentOffset ) } } else { if ( moveNext ) { high = this.getUint32() low = this.getUint32() } else { const currentOffset = this._offset high = this.getUint32() low = this.getUint32() this.skipOffsetTo( currentOffset ) } } return high * 0x100000000 + low } /** * * @param length * @param moveNext * @returns {Array} */ getUint64Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getUint64() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {number} */ getFloat32 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset return this._dataView.getFloat32( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getFloat32Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getFloat32() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @return {number} */ getFloat64 ( moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Eight ) : this._offset return this._dataView.getFloat64( offset, this._endianness ) } /** * * @param length * @param moveNext * @returns {Array} */ getFloat64Array ( length, moveNext = true ) { const currentOffset = this._offset const array = [] for ( let i = 0 ; i &lt; length ; i++ ) { array.push( this.getFloat64() ) } if ( !moveNext ) { this._offset = currentOffset } return array } /** * * @returns {string} */ getChar ( moveNext = true ) { return String.fromCharCode( this.getUint8( moveNext ) ) } /** * * @param length * @param moveNext * @return {string} */ getString ( length, moveNext = true ) { const currentOffset = this._offset let string = '' for ( let i = 0 ; i &lt; length ; i++ ) { string += String.fromCharCode( this.getUint8() ) } if ( !moveNext ) { this._offset = currentOffset } return string } /** * * @param size * @returns {ArrayBuffer} */ getArrayBuffer ( size ) { const offset = this._getAndUpdateOffsetBy( size ) return this._dataView.buffer.slice( offset, offset + size ) } } export { TBinaryReader, Endianness, Byte } × Search results Close "},"sources_cores_TConstants.js.html":{"id":"sources_cores_TConstants.js.html","title":"Source: sources/cores/TConstants.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/TConstants.js /** * A freezed javascript object used like an enum. * @typedef {object} Enum * @constant * @example * var Meal = toEnum( { * Food: 'Tartiflette', * Drink: 'Saint-Emilion', * Dessert: 'Mousse au chocolat' * } ) * * if( Foo.includes('Tartiflette') { * // Happy * } * * var myDrink = 'coke' * if( myDrink === Meal.Drink ) { * * } else { * // Your life is a pain * } * * var MealTypes = Meal.types * // ['Tartiflette', 'Saint-Emilion', 'Mousse au chocolat' ] * */ import { toEnum } from 'itee-utils' /** * @typedef {Enum} FileFormat * @property {String} Asc=\"asc\" - The ascii file format * @property {String} Dae=\"dae\" - The dae file format * @property {String} Dbf=\"dbf\" - The dbf file format * @property {String} Fbx=\"fbx\" - The fbx file format * @property {String} Mtl=\"mtl\" - The material file format * @property {String} Json=\"json\" - The json file format * @property {String} Obj=\"obj\" - The object file format * @property {String} Shp=\"shp\" - The shape file format * @property {String} Stl=\"stl\" - The stereolithographie file format * * @constant * @type {FileFormat} * @description The FileFormat Enum give some commonly used file format in 3d context */ const FileFormat = toEnum( { Asc: { value: 'asc' }, Dae: { value: 'dae' }, Dbf: { value: 'dbf' }, Fbx: { value: 'fbx' }, Mtl: { value: 'mtl' }, Json: { value: 'json' }, Obj: { value: 'obj' }, Shp: { value: 'shp' }, Stl: { value: 'stl' } } ) /** * @typedef {Enum} HttpStatusCode * @property {number} Continue=100 - Waiting for the continuation of the request. * @property {number} SwitchingProtocols=101 - The requester has asked the server to switch protocols and the server has agreed to do so. * @property {number} Processing=102 - WebDAV: Processing in progress (prevents the client from exceeding the limited waiting time). * @property {number} Ok=200 - Query successfully processed. * @property {number} Created=201 - Query successfully processed and a document was created. * @property {number} Accepted=202 - Query processed, but without guarantee of result. * @property {number} NonAuthoritativeInformation=203 - Information returned, but generated by an uncertified source. * @property {number} NoContent=204 - Query successfully processed but no information returned. * @property {number} ResetContent=205 - Query successfully processed, the current page can be cleared. * @property {number} PartialContent=206 - Only part of the resource has been transmitted. * @property {number} MultiStatus=207 - WebDAV: Multiple Response. * @property {number} AlreadyReported=208 - WebDAV: The document was previously sent to this collection. * @property {number} ContentDifferent=210 - WebDAV: The copy of the client-side resource differs from that of the server (content or properties). * @property {number} IMUsed=226 - The server has completed the request for the resource, and the response is a representation of the result of one or more instance manipulations applied to the * current instance. * @property {number} MultipleChoices=300 - The requested URI refers to multiple resources. * @property {number} MovedPermanently=301 - Document moved permanently. * @property {number} Found=302 - Document moved temporarily. * @property {number} SeeOther=303 - The answer to this query is elsewhere. * @property {number} NotModified=304 - Document not modified since the last request. * @property {number} UseProxy=305 - The request must be re-addressed to the proxy. * @property {number} Unused=306 - Code used by an older version of RFC 2616, now reserved. * @property {number} TemporaryRedirect=307 - The request must be temporarily redirected to the specified URI. * @property {number} PermanentRedirect=308 - The request must be redirected permanently to the specified URI. * @property {number} TooManyRedirects=310 - The request must be redirected too many times, or is the victim of a redirection loop. * @property {number} BadRequest=400 - The syntax of the query is wrong. * @property {number} Unauthorized=401 - Authentication is required to access the resource. * @property {number} PaymentRequired=402 - Payment required to access the resource. * @property {number} Forbidden=403 - The server understood the request, but refuses to execute it. Unlike error 401, authenticating will not make any difference. On servers where authentication is * required, this usually means that authentication has been accepted but access rights do not allow the client to access the resource. * @property {number} NotFound=404 - Resource not found. * @property {number} MethodNotAllowed=405 - Unauthorized request method. * @property {number} NotAcceptable=406 - The requested resource is not available in a format that would respect the \"Accept\" headers of the request. * @property {number} ProxyAuthenticationRequired=407 - Access to the authorized resource by identification with the proxy. * @property {number} RequestTimeOut=408 - Waiting time for an elapsed client request. * @property {number} Conflict=409 - The request can not be processed in the current state. * @property {number} Gone=410 - The resource is no longer available and no redirection address is known. * @property {number} LengthRequired=411 - The length of the request has not been specified. * @property {number} PreconditionFailed=412 - Preconditions sent by the query unverified. * @property {number} RequestEntityTooLarge=413 - Abandoned processing due to excessive request * @property {number} RequestURITooLong=414 - URI too long * @property {number} UnsupportedMediaType=415 - Unsupported query format for a given method and resource. * @property {number} RequestRangeUnsatisfiable=416 - Invalid \"range\" request header fields. * @property {number} ExpectationFailed=417 - Expected behavior and defined in the header of the unsatisfactory request. * @property {number} ImATeapot=418 - \"I am a teapot\". This code is defined in RFC 2324 dated April 1, 1998, Hyper Text Coffee Pot Control Protocol. * @property {number} BadMapping=421 - The request was sent to a server that is not able to produce a response (for example, because a connection has been reused). * @property {number} UnprocessableEntity=422 - WebDAV: The entity provided with the request is incomprehensible or incomplete. * @property {number} Locked=423 - WebDAV: The operation can not take place because the resource is locked. * @property {number} MethodFailure=424 - WebDAV: A method of the transaction failed. * @property {number} UnorderedCollection=425 - WebDAV RFC 3648. This code is defined in the WebDAV Advanced Collections Protocol draft , but is absent from the Web Distributed Authoring and * Versioning (WebDAV) Ordered Collections Protocol. * @property {number} UpgradeRequired=426 - RFC 2817 The client should change protocol, for example to TLS / 1.0 . * @property {number} PreconditionRequired=428 - RFC 6585 The request must be conditional. * @property {number} TooManyRequests=429 - RFC 6585 The client has issued too many requests within a given time. * @property {number} RequestHeaderFieldsTooLarge=431 - RFC 6585 HTTP headers issued exceed the maximum size allowed by the server. * @property {number} NoResponse=444 - Indicates that the server did not return any information to the client and closed the connection. * @property {number} RetryWith=449 - Code defined by Microsoft . The request should be returned after performing an action. * @property {number} BlockedByWindowsParentalControls=450 - Code defined by Microsoft. This error is generated when Windows Parental Control tools are enabled and block access to the page. * @property {number} UnavailableForLegalReasons=451 - This error code indicates that the requested resource is inaccessible for legal reasons * @property {number} UnrecoverableError=456 - WebDAV: Fatal error. * @property {number} SSLCertificateError=495 - An extension of the 400 Bad Request error, used when the client provided an invalid certificate. * @property {number} SSLCertificateRequired=496 - An extension of the 400 Bad Request error, used when a required client certificate is not provided. * @property {number} HTTPRequestSentToHTTPSPort=497 - An extension of the 400 Bad Request error, used when the client sends an HTTP request to port 443 normally intended for HTTPS requests. * @property {number} ClientClosedRequest=499 - The client closed the connection before receiving the response. This error occurs when the processing is too long on the server side. * @property {number} InternalServerError=500 - Internal server error. * @property {number} NotImplemented=501 - Functionality claimed not supported by the server. * @property {number} BadGateway=502 - Wrong response sent to an intermediate server by another server. * @property {number} ServiceUnavailable=503 - Service temporarily unavailable or under maintenance. * @property {number} GatewayTimeOut=504 - Waiting time for a response from a server to an intermediate server that has elapsed. * @property {number} HTTPVersionNotSupported=505 - HTTP version not managed by the server. * @property {number} VariantAlsoNegotiates=506 - RFC 2295: Negotiation Error. Transparent content negociation. * @property {number} InsufficientStorage=507 - WebDAV: Insufficient space to modify properties or build the collection. * @property {number} LoopDetected=508 - WebDAV: Loop in a Resource Match * @property {number} BandwidthLimitExceeded=509 - Used by many servers to indicate a quota overrun. * @property {number} NotExtended=510 - RFC 2774: The request does not respect the policy for accessing extended HTTP resources. * @property {number} NetworkAuthenticationRequired=511 - RFC 6585: The client must authenticate to access the network. Used by captive portals to redirect clients to the authentication page. * @property {number} UnknownError=520 - Error 520 is used as a wildcard response when the origin server returns an unexpected result. * @property {number} WebServerIsDown=521 - The server has refused the connection from Cloudflare. * @property {number} ConnectionTimedOut=522 - Cloudflare could not negotiate a TCP handshake with the origin server. * @property {number} OriginIsUnreachable=523 - Cloudflare failed to reach the origin server. This can occur if DNS server name resolution fails. * @property {number} ATimeoutOccured=524 - Cloudflare established a TCP connection with the origin server but did not receive an HTTP response before the login timeout. * @property {number} SSLHandshakeFailed=525 - Cloudflare could not negotiate SSL / TLS handshake with the origin server. * @property {number} InvalidSSLCertificate=526 - Cloudflare could not validate the SSL certificate presented by the origin server. * @property {number} RailgunError=527 - Error 527 indicates that the request has timed out or failed after the WAN connection was established. * * @constant * @type {HttpStatusCode} * @description HttpStatusCode contains all http status code available to check and process correctly server response. * @see {@link https://en.wikipedia.org/wiki/List_of_HTTP_status_codes} for further information. */ const HttpStatusCode = toEnum( { // 100 Continue: { value: 100 }, SwitchingProtocols: { value: 101 }, Processing: { value: 102 }, // 200 Ok: { value: 200 }, Created: { value: 201 }, Accepted: { value: 202 }, NonAuthoritativeInformation: { value: 203 }, NoContent: { value: 204 }, ResetContent: { value: 205 }, PartialContent: { value: 206 }, MultiStatus: { value: 207 }, AlreadyReported: { value: 208 }, ContentDifferent: { value: 210 }, IMUsed: { value: 226 }, // 300 MultipleChoices: { value: 300 }, MovedPermanently: { value: 301 }, Found: { value: 302 }, SeeOther: { value: 303 }, NotModified: { value: 304 }, UseProxy: { value: 305 }, Unused: { value: 306 }, TemporaryRedirect: { value: 307 }, PermanentRedirect: { value: 308 }, TooManyRedirects: { value: 310 }, // 400 BadRequest: { value: 400 }, Unauthorized: { value: 401 }, PaymentRequired: { value: 402 }, Forbidden: { value: 403 }, NotFound: { value: 404 }, MethodNotAllowed: { value: 405 }, NotAcceptable: { value: 406 }, ProxyAuthenticationRequired: { value: 407 }, RequestTimeOut: { value: 408 }, Conflict: { value: 409 }, Gone: { value: 410 }, LengthRequired: { value: 411 }, PreconditionFailed: { value: 412 }, RequestEntityTooLarge: { value: 413 }, RequestRangeUnsatisfiable: { value: 416 }, ExpectationFailed: { value: 417 }, ImATeapot: { value: 418 }, BadMapping: { value: 421 }, UnprocessableEntity: { value: 422 }, Locked: { value: 423 }, MethodFailure: { value: 424 }, UnorderedCollection: { value: 425 }, UpgradeRequired: { value: 426 }, PreconditionRequired: { value: 428 }, TooManyRequests: { value: 429 }, RequestHeaderFieldsTooLarge: { value: 431 }, NoResponse: { value: 444 }, RetryWith: { value: 449 }, BlockedByWindowsParentalControls: { value: 450 }, UnavailableForLegalReasons: { value: 451 }, UnrecoverableError: { value: 456 }, SSLCertificateError: { value: 495 }, SSLCertificateRequired: { value: 496 }, HTTPRequestSentToHTTPSPort: { value: 497 }, ClientClosedRequest: { value: 499 }, // 500 InternalServerError: { value: 500 }, NotImplemented: { value: 501 }, BadGateway: { value: 502 }, ServiceUnavailable: { value: 503 }, GatewayTimeOut: { value: 504 }, HTTPVersionNotSupported: { value: 505 }, VariantAlsoNegotiates: { value: 506 }, InsufficientStorage: { value: 507 }, LoopDetected: { value: 508 }, BandwidthLimitExceeded: { value: 509 }, NotExtended: { value: 510 }, NetworkAuthenticationRequired: { value: 511 }, UnknownError: { value: 520 }, WebServerIsDown: { value: 521 }, ConnectionTimedOut: { value: 522 }, OriginIsUnreachable: { value: 523 }, ATimeoutOccured: { value: 524 }, SSLHandshakeFailed: { value: 525 }, InvalidSSLCertificate: { value: 526 }, RailgunError: { value: 527 } } ) /** * @typedef {Enum} HttpVerb * @property {String} Create=\"PUT\" - Corresponding to the create http verb for an itee server, namely \"PUT\". * @property {String} Read=\"POST\" - Corresponding to the read http verb for an itee server, namely \"POST\". * @property {String} Update=\"PATCH\" - Corresponding to the update http verb for an itee server, namely \"PATCH\". * @property {String} Delete=\"DELETE\" - Corresponding to the delete http verb for an itee server, namely \"DELETE\". * * @constant * @type {HttpVerb} * @description HttpVerb contains the CRUD actions with corresponding http verb to request an itee server. * @see {@link https://en.wikipedia.org/wiki/Create,_read,_update_and_delete} for further information. */ const HttpVerb = toEnum( { Create: { value: 'PUT' }, Read: { value: 'POST' }, Update: { value: 'PATCH' }, Delete: { value: 'DELETE' } } ) /** * @typedef {Enum} Keys * @property {Number} BACKSPACE=8 - The backspace key code * @property {Number} TAB=9 - The tab key code * @property {Number} ENTER=13 - The enter key code * @property {Number} Etc...=* - All the rest * * @constant * @type {Keys} * @description Keys contains common keyboard key values, this allow to write semantic code instead of integer when dealing with key codes. */ const Keys = toEnum( { BACKSPACE: { value: 8 }, TAB: { value: 9 }, ENTER: { value: 13 }, SHIFT: { value: 16 }, CTRL: { value: 17 }, ALT: { value: 18 }, PAUSE: { value: 19 }, CAPS_LOCK: { value: 20 }, ESCAPE: { value: 27 }, SPACE: { value: 32 }, PAGE_UP: { value: 33 }, PAGE_DOWN: { value: 34 }, END: { value: 35 }, HOME: { value: 36 }, LEFT_ARROW: { value: 37 }, UP_ARROW: { value: 38 }, RIGHT_ARROW: { value: 39 }, DOWN_ARROW: { value: 40 }, INSERT: { value: 45 }, DELETE: { value: 46 }, ZERO: { value: 48 }, ONE: { value: 49 }, TWO: { value: 50 }, THREE: { value: 51 }, FOUR: { value: 52 }, FIVE: { value: 53 }, SIX: { value: 54 }, SEVEN: { value: 55 }, HEIGHT: { value: 56 }, NINE: { value: 57 }, A: { value: 65 }, B: { value: 66 }, C: { value: 67 }, D: { value: 68 }, E: { value: 69 }, F: { value: 70 }, G: { value: 71 }, H: { value: 72 }, I: { value: 73 }, J: { value: 74 }, K: { value: 75 }, L: { value: 76 }, M: { value: 77 }, N: { value: 78 }, O: { value: 79 }, P: { value: 80 }, Q: { value: 81 }, R: { value: 82 }, S: { value: 83 }, T: { value: 84 }, U: { value: 85 }, V: { value: 86 }, W: { value: 87 }, X: { value: 88 }, Y: { value: 89 }, Z: { value: 90 }, LEFT_WINDOW_KEY: { value: 91 }, RIGHT_WINDOW_KEY: { value: 92 }, SELECT_KEY: { value: 93 }, NUMPAD_0: { value: 96 }, NUMPAD_1: { value: 97 }, NUMPAD_2: { value: 98 }, NUMPAD_3: { value: 99 }, NUMPAD_4: { value: 100 }, NUMPAD_5: { value: 101 }, NUMPAD_6: { value: 102 }, NUMPAD_7: { value: 103 }, NUMPAD_8: { value: 104 }, NUMPAD_9: { value: 105 }, MULTIPLY: { value: 106 }, ADD: { value: 107 }, SUBSTRACT: { value: 109 }, DECIMAL_POINT: { value: 110 }, DIVIDE: { value: 111 }, F1: { value: 112 }, F2: { value: 113 }, F3: { value: 114 }, F4: { value: 115 }, F5: { value: 116 }, F6: { value: 117 }, F7: { value: 118 }, F8: { value: 119 }, F9: { value: 120 }, F10: { value: 121 }, F11: { value: 122 }, F12: { value: 123 }, NUM_LOCK: { value: 144 }, SCROLL_LOCK: { value: 145 }, SEMICOLON: { value: 186 }, EQUAL: { value: 187 }, COMMA: { value: 188 }, DASH: { value: 189 }, PERIODE: { value: 190 }, SLASH: { value: 191 }, GRAVE_ACCENT: { value: 192 }, OPEN_SQUARE_BRACKET: { value: 219 }, BACKSLASH: { value: 220 }, CLOSE_SQUARE_BRACKET: { value: 221 }, SINGLE_QUOTE: { value: 222 } } ) /** * @typedef {Enum} MimeType * @property {Number} ... * * @constant * @type {MimeType} * @description Todo... */ const MimeType = toEnum( {} ) /** * @typedef {Enum} Mouse * @property {Number} Wheel=-1 - The enter key code * @property {Number} Left=0 - The enter key code * @property {Number} Middle=1 - The enter key code * @property {Number} Right=2 - The enter key code * * @constant * @type {Mouse} * @description This Mouse Enum expose 4 common state of mouse button values (Wheel, Left, Middle and Right), this allow to write semantic code instead of integer when dealing with mouse button codes. */ const Mouse = toEnum( { Wheel: { value: -1 }, Left: { value: 0 }, Middle: { value: 1 }, Right: { value: 2 } } ) /** * @typedef {Enum} ResponseType * @property {String} ArrayBuffer=\"arraybuffer\" - The \"arraybuffer\" server response type. * @property {String} Blob=\"blob\" - The \"blob\" server response type. * @property {String} Document=\"document\" - The \"document\" server response type. * @property {String} Json=\"json\" - The \"json\" server response type. * @property {String} DOMString=\"text\" - The \"text\" server response type. * @property {String} Default=\"text\" - The \"\" server response type ( equivalent to DOMString ). * * @constant * @type {ResponseType} * @description ResponseType allow to filter wich type of response is recieved from the server. * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType} for further information. */ const ResponseType = toEnum( { ArrayBuffer: { value: 'arraybuffer' }, Blob: { value: 'blob' }, Document: { value: 'document' }, Json: { value: 'json' }, DOMString: { value: 'text' }, Default: { value: '' } } ) export { FileFormat, HttpStatusCode, HttpVerb, Keys, MimeType, Mouse, ResponseType } × Search results Close "},"sources_managers_TDataBaseManager.js.html":{"id":"sources_managers_TDataBaseManager.js.html","title":"Source: sources/managers/TDataBaseManager.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/managers/TDataBaseManager.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @class TDataBaseManager * @classdesc The base class of database managers. Give the basic interface about database call. * * @requires {@link HttpVerb} * @requires {@link ResponseType} * @requires {@link HttpStatusCode} * @requires {@link TOrchestrator} * @requires {@link TStore} * * @example Todo * */ /* eslint-env browser */ import { DefaultLogger, TLogger } from 'itee-core' import { toEnum } from 'itee-utils' import { isArray, isArrayOfSingleElement, isBlankString, isDefined, isEmptyObject, isEmptyString, isNotBlankString, isNotDefined, isNotEmptyArray, isNotEmptyObject, isNotEmptyString, isNotNumber, isNotObject, isNotString, isNull, isNumberNegative, isNumberPositive, isObject, isString, isUndefined, isZero } from 'itee-validators' import { HttpStatusCode, HttpVerb, ResponseType } from '../cores/TConstants' import { TStore } from '../cores/TStore' /** * @deprecated */ class IdGenerator { constructor () { this._id = 0 } get id () { this._id += 1 return this._id } } const Generate = new IdGenerator() /** * * @type {ReadonlyArray&lt;unknown&gt;} */ const RequestType = toEnum( { CreateOne: 0, CreateMany: 1, ReadOne: 2, ReadMany: 3, ReadWhere: 4, ReadAll: 5, UpdateOne: 6, UpdateMany: 7, UpdateWhere: 8, UpdateAll: 9, DeleteOne: 10, DeleteMany: 11, DeleteWhere: 12, DeleteAll: 13 } ) /** * @class */ class TDataBaseManager { /** * * @returns {number} */ static get requestId () { TDataBaseManager._requestId++ return TDataBaseManager._requestId } /** * * @param parameters */ constructor ( parameters = {} ) { const _parameters = { ...{ basePath: '/', responseType: ResponseType.Json, bunchSize: 500, requestAggregationTime: 200, requestsConcurrency: 6, logger: DefaultLogger }, ...parameters } this.basePath = _parameters.basePath this.responseType = _parameters.responseType this.bunchSize = _parameters.bunchSize this.requestAggregationTime = _parameters.requestAggregationTime this.requestsConcurrency = _parameters.requestsConcurrency this.logger = _parameters.logger this._cache = new TStore() this._waitingQueue = [] this._aggregateQueue = [] this._requestQueue = [] this._processQueue = [] this._aggregationTimeoutId = null this._idToRequest = [] } /** * * @returns {*} */ get basePath () { return this._basePath } set basePath ( value ) { if ( isNull( value ) ) { throw new TypeError( 'Base path cannot be null ! Expect a non empty string.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Base path cannot be undefined ! Expect a non empty string.' ) } if ( isNotString( value ) ) { throw new TypeError( `Base path cannot be an instance of ${ value.constructor.name } ! Expect a non empty string.` ) } if ( isEmptyString( value ) ) { throw new TypeError( 'Base path cannot be empty ! Expect a non empty string.' ) } if ( isBlankString( value ) ) { throw new TypeError( 'Base path cannot contain only whitespace ! Expect a non empty string.' ) } this._basePath = value } /** * * @returns {*} */ get responseType () { return this._responseType } set responseType ( value ) { if ( isNull( value ) ) { throw new Error( 'TDataBaseManager: responseType cannot be null !' ) } if ( isNull( value ) ) { throw new TypeError( 'Response type cannot be null ! Expect a non empty string.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Response type cannot be undefined ! Expect a non empty string.' ) } // if ( !( value instanceof ResponseType ) ) { throw new TypeError( `Response type cannot be an instance of ${value.constructor.name} ! Expect a value from ResponseType enum.` ) } this._responseType = value } /** * * @returns {*} */ get bunchSize () { return this._bunchSize } set bunchSize ( value ) { if ( isNull( value ) ) { throw new TypeError( 'Bunch size cannot be null ! Expect a positive number.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Bunch size cannot be undefined ! Expect a positive number.' ) } if ( isNotNumber( value ) ) { throw new TypeError( `Bunch size cannot be an instance of ${ value.constructor.name } ! Expect a positive number.` ) } if ( !isNumberPositive( value ) ) { throw new TypeError( `Bunch size cannot be lower or equal to zero ! Expect a positive number.` ) } this._bunchSize = value } /** * * @returns {*} */ get requestAggregationTime () { return this._requestAggregationTime } set requestAggregationTime ( value ) { if ( isNull( value ) ) { throw new TypeError( 'Requests aggregation time cannot be null ! Expect a positive number.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Requests aggregation time cannot be undefined ! Expect a positive number.' ) } if ( isNotNumber( value ) ) { throw new TypeError( `Requests aggregation time cannot be an instance of ${ value.constructor.name } ! Expect a positive number.` ) } if ( isNumberNegative( value ) ) { throw new TypeError( 'Requests aggregation time cannot be lower or equal to zero ! Expect a positive number.' ) } this._requestAggregationTime = value } /** * * @returns {*} */ get requestsConcurrency () { return this._requestsConcurrency } set requestsConcurrency ( value ) { if ( isNull( value ) ) { throw new TypeError( 'Minimum of simultaneous request cannot be null ! Expect a positive number.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Minimum of simultaneous request cannot be undefined ! Expect a positive number.' ) } if ( isNotNumber( value ) ) { throw new TypeError( `Minimum of simultaneous request cannot be an instance of ${ value.constructor.name } ! Expect a positive number.` ) } if ( isZero( value ) || isNumberNegative( value ) ) { throw new TypeError( 'Minimum of simultaneous request cannot be lower or equal to zero ! Expect a positive number.' ) } this._requestsConcurrency = value } /** * * @returns {TLogger} */ get logger () { return this._logger } set logger ( value ) { if ( isNull( value ) ) { throw new TypeError( 'Progress manager cannot be null ! Expect an instance of TProgressManager.' ) } if ( isUndefined( value ) ) { throw new TypeError( 'Progress manager cannot be undefined ! Expect an instance of TProgressManager.' ) } if ( !( value instanceof TLogger ) ) { throw new TypeError( `Progress manager cannot be an instance of ${ value.constructor.name } ! Expect an instance of TProgressManager.` ) } this._logger = value } /** * * @param value * @returns {TDataBaseManager} */ setBasePath ( value ) { this.basePath = value return this } /** * * @param value * @returns {TDataBaseManager} */ setResponseType ( value ) { this.responseType = value return this } /** * * @param value * @returns {TDataBaseManager} */ setBunchSize ( value ) { this.bunchSize = value return this } /** * * @param value * @returns {TDataBaseManager} */ setRequestAggregationTime ( value ) { this.requestAggregationTime = value return this } /** * * @param value * @returns {TDataBaseManager} */ setRequestsConcurrency ( value ) { this.requestsConcurrency = value return this } /** * * @param value * @returns {TDataBaseManager} */ setLogger ( value ) { this.logger = value return this } /** * */ aggregateQueue () { clearTimeout( this._aggregationTimeoutId ) this._aggregationTimeoutId = setTimeout( () =&gt; { const datasToRequest = this._idToRequest let idBunch = [] for ( let idIndex = datasToRequest.length - 1 ; idIndex &gt;= 0 ; idIndex-- ) { idBunch.push( datasToRequest.pop() ) if ( idBunch.length === this._bunchSize || idIndex === 0 ) { this._requestQueue.push( { _id: `readMany_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.ReadMany, method: HttpVerb.Read.value, url: this._basePath, data: { ids: idBunch }, responseType: this._responseType } ) idBunch = [] } } this.processQueue.call( this ) }, this._requestAggregationTime ) } /** * */ processQueue () { while ( this._requestQueue.length &gt; 0 &amp;&amp; this._processQueue.length &lt; this._requestsConcurrency ) { const requestSkull = this._requestQueue.pop() this._processQueue.push( requestSkull ) const request = new XMLHttpRequest() request.onloadstart = _onLoadStart.bind( this ) request.onload = this._onLoad.bind( this, requestSkull, this._onEnd.bind( this, requestSkull, requestSkull.onLoad ), this._onProgress.bind( this, requestSkull.onProgress ), this._onError.bind( this, requestSkull, requestSkull.onError ) ) request.onloadend = _onLoadEnd.bind( this ) request.onprogress = this._onProgress.bind( this, requestSkull.onProgress ) request.onreadystatechange = _onReadyStateChange.bind( this ) request.onabort = _onAbort.bind( this ) request.onerror = this._onError.bind( this, requestSkull, requestSkull.onError ) request.ontimeout = _onTimeout.bind( this ) request.open( requestSkull.method, requestSkull.url, true ) request.setRequestHeader( 'Content-Type', 'application/json' ) request.setRequestHeader( 'Accept', 'application/json' ) request.responseType = requestSkull.responseType.value const dataToSend = ( requestSkull.data &amp;&amp; requestSkull.responseType === ResponseType.Json ) ? JSON.stringify( requestSkull.data ) : requestSkull.data request.send( dataToSend ) } function _onLoadStart ( loadStartEvent ) { this.logger.progress( loadStartEvent ) } function _onLoadEnd ( loadEndEvent ) { this.logger.progress( loadEndEvent ) } function _onReadyStateChange ( readyStateEvent ) { this.logger.debug( readyStateEvent ) } function _onAbort ( abortEvent ) { this.logger.error( abortEvent ) } function _onTimeout ( timeoutEvent ) { this.logger.error( timeoutEvent ) } } // Publics /** * The create method allow to create a new ressource on the server. Providing a single object that match a database schema, or an array of them. * * @param {object|array.&lt;object&gt;} data - The data to send for create new objects. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ create ( data, onLoadCallback, onProgressCallback, onErrorCallback ) { if ( isArray( data ) &amp;&amp; isNotEmptyArray( data ) ) { if ( isArrayOfSingleElement( data ) ) { this._createOne( data[ 0 ], onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._createMany( data, onLoadCallback, onProgressCallback, onErrorCallback ) } } else if ( isObject( data ) &amp;&amp; isNotEmptyObject( data ) ) { this._createOne( data, onLoadCallback, onProgressCallback, onErrorCallback ) } else { onErrorCallback( 'TDataBaseManager.create: Invalid data type, expect object or array of objects.' ) } } /** * The read method allow to retrieve data from the server, using a single id or an array of them. * * @param {string|array.&lt;string&gt;} condition - The ids of objects to retrieve. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ read ( condition, projection, onLoadCallback, onProgressCallback, onErrorCallback ) { if ( isString( condition ) &amp;&amp; isNotEmptyString( condition ) &amp;&amp; isNotBlankString( condition ) ) { this._readOne( condition, projection, onLoadCallback, onProgressCallback, onErrorCallback ) } else if ( isArray( condition ) &amp;&amp; isNotEmptyArray( condition ) ) { if ( isArrayOfSingleElement( condition ) ) { this._readOne( condition[ 0 ], projection, onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._readMany( condition, projection, onLoadCallback, onProgressCallback, onErrorCallback ) } } else if ( isObject( condition ) ) { if ( isEmptyObject( condition ) ) { this._readAll( projection, onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._readWhere( condition, projection, onLoadCallback, onProgressCallback, onErrorCallback ) } } else { onErrorCallback( 'TDataBaseManager.read: Invalid data type, expect string, object or array of objects.' ) } } /** * The update method allow to update data on the server, using a single id or an array of them, and a corresponding object about the data to update. * * @param {string|array.&lt;string&gt;} condition - The ids of objects to update. * @param {object} update - The update data ( need to match the related database schema ! ). In case of multiple ids they will be updated with the same given data. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ update ( condition, update, onLoadCallback, onProgressCallback, onErrorCallback ) { if ( isNotDefined( update ) ) { onErrorCallback( 'TDataBaseManager.update: Update data cannot be null or undefined !' ) return } if ( isNotObject( update ) ) { onErrorCallback( 'TDataBaseManager.update: Invalid update data type. Expect an object.' ) return } if ( isString( condition ) &amp;&amp; isNotEmptyString( condition ) &amp;&amp; isNotBlankString( condition ) ) { this._updateOne( condition, update, onLoadCallback, onProgressCallback, onErrorCallback ) } else if ( isArray( condition ) &amp;&amp; isNotEmptyArray( condition ) ) { if ( isArrayOfSingleElement( condition ) ) { this._updateOne( condition[ 0 ], update, onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._updateMany( condition, update, onLoadCallback, onProgressCallback, onErrorCallback ) } } else if ( isObject( condition ) ) { if ( isEmptyObject( condition ) ) { this._updateAll( update, onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._updateWhere( condition, update, onLoadCallback, onProgressCallback, onErrorCallback ) } } else { onErrorCallback( 'TDataBaseManager.update: Invalid data type, expect string, object or array of objects.' ) } } /** * The delete method allow to remove data from the server, using a single id or an array of them. * * @param {string|array.&lt;string&gt;|object|null} condition - The ids of objects to delete. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ delete ( condition, onLoadCallback, onProgressCallback, onErrorCallback ) { if ( isString( condition ) &amp;&amp; isNotEmptyString( condition ) &amp;&amp; isNotBlankString( condition ) ) { this._deleteOne( condition, onLoadCallback, onProgressCallback, onErrorCallback ) } else if ( isArray( condition ) &amp;&amp; isNotEmptyArray( condition ) ) { if ( isArrayOfSingleElement( condition ) ) { this._deleteOne( condition[ 0 ], onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._deleteMany( condition, onLoadCallback, onProgressCallback, onErrorCallback ) } } else if ( isObject( condition ) ) { if ( isEmptyObject( condition ) ) { this._deleteAll( onLoadCallback, onProgressCallback, onErrorCallback ) } else { this._deleteWhere( condition, onLoadCallback, onProgressCallback, onErrorCallback ) } } else { onErrorCallback( 'TDataBaseManager.delete: Invalid data type, expect null, string, object or array of objects.' ) } } // Privates //// Events /** * The private _onLoad method allow to process the server response in an abstract way to check against error and wrong status code. * It will bind user callback on each type of returns, and dispatch in sub methods in function of the response type. * * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @param {object} loadEvent - The server response object to parse. * @private */ _onLoad ( request, onLoadCallback, onProgressCallback, onErrorCallback, loadEvent ) { const target = loadEvent.target const status = target.status const response = target.response const responseType = target.responseType switch ( status ) { // 100 // case HttpStatusCode.Continue.value: // case HttpStatusCode.SwitchingProtocols.value: // case HttpStatusCode.Processing.value: // 200 case HttpStatusCode.Ok.value: this._dispatchResponse( response, responseType, onLoadCallback, onProgressCallback, onErrorCallback ) break // case HttpStatusCode.Created.value: // case HttpStatusCode.Accepted.value: case HttpStatusCode.NonAuthoritativeInformation.value: case HttpStatusCode.NoContent.value: case HttpStatusCode.ResetContent.value: case HttpStatusCode.PartialContent.value: case HttpStatusCode.MultiStatus.value: case HttpStatusCode.AlreadyReported.value: case HttpStatusCode.ContentDifferent.value: case HttpStatusCode.IMUsed.value: case HttpStatusCode.MultipleChoices.value: case HttpStatusCode.MovedPermanently.value: case HttpStatusCode.Found.value: case HttpStatusCode.SeeOther.value: case HttpStatusCode.NotModified.value: case HttpStatusCode.UseProxy.value: case HttpStatusCode.Unused.value: case HttpStatusCode.TemporaryRedirect.value: case HttpStatusCode.PermanentRedirect.value: case HttpStatusCode.TooManyRedirects.value: case HttpStatusCode.BadRequest.value: case HttpStatusCode.Unauthorized.value: case HttpStatusCode.PaymentRequired.value: case HttpStatusCode.Forbidden.value: case HttpStatusCode.NotFound.value: case HttpStatusCode.MethodNotAllowed.value: case HttpStatusCode.NotAcceptable.value: case HttpStatusCode.ProxyAuthenticationRequired.value: case HttpStatusCode.RequestTimeOut.value: case HttpStatusCode.Conflict.value: case HttpStatusCode.Gone.value: case HttpStatusCode.LengthRequired.value: case HttpStatusCode.PreconditionFailed.value: case HttpStatusCode.RequestEntityTooLarge.value: case HttpStatusCode.RequestRangeUnsatisfiable.value: case HttpStatusCode.ExpectationFailed.value: case HttpStatusCode.ImATeapot.value: case HttpStatusCode.BadMapping.value: case HttpStatusCode.UnprocessableEntity.value: case HttpStatusCode.Locked.value: case HttpStatusCode.MethodFailure.value: case HttpStatusCode.UnorderedCollection.value: case HttpStatusCode.UpgradeRequired.value: case HttpStatusCode.PreconditionRequired.value: case HttpStatusCode.TooManyRequests.value: case HttpStatusCode.RequestHeaderFieldsTooLarge.value: case HttpStatusCode.NoResponse.value: case HttpStatusCode.RetryWith.value: case HttpStatusCode.BlockedByWindowsParentalControls.value: case HttpStatusCode.UnavailableForLegalReasons.value: case HttpStatusCode.UnrecoverableError.value: case HttpStatusCode.SSLCertificateError.value: case HttpStatusCode.SSLCertificateRequired.value: case HttpStatusCode.HTTPRequestSentToHTTPSPort.value: case HttpStatusCode.ClientClosedRequest.value: case HttpStatusCode.InternalServerError.value: case HttpStatusCode.NotImplemented.value: case HttpStatusCode.BadGateway.value: case HttpStatusCode.ServiceUnavailable.value: case HttpStatusCode.GatewayTimeOut.value: case HttpStatusCode.HTTPVersionNotSupported.value: case HttpStatusCode.VariantAlsoNegotiates.value: case HttpStatusCode.InsufficientStorage.value: case HttpStatusCode.LoopDetected.value: case HttpStatusCode.BandwidthLimitExceeded.value: case HttpStatusCode.NotExtended.value: case HttpStatusCode.NetworkAuthenticationRequired.value: case HttpStatusCode.UnknownError.value: case HttpStatusCode.WebServerIsDown.value: case HttpStatusCode.ConnectionTimedOut.value: case HttpStatusCode.OriginIsUnreachable.value: case HttpStatusCode.ATimeoutOccured.value: case HttpStatusCode.SSLHandshakeFailed.value: case HttpStatusCode.InvalidSSLCertificate.value: case HttpStatusCode.RailgunError.value: onErrorCallback( response ) break default: throw new RangeError( `Unmanaged HttpStatusCode: ${ status }` ) } } /** * The private _onProgress method will handle all progress event from server and submit them to the logger if exist else to the user onProgressCallback * * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {object} progressEvent - The server progress event. * @private */ _onProgress ( onProgressCallback, progressEvent ) { if ( isDefined( this.logger ) ) { this.logger.progress( progressEvent, onProgressCallback ) } else if ( isDefined( onProgressCallback ) ) { onProgressCallback( progressEvent ) } } /** * The private _onError method will handle all error event from server and submit them to the logger if exist else to the user onErrorCallback * * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @param {object} errorEvent - A server error event * @private */ _onError ( request, onErrorCallback, errorEvent ) { this._closeRequest( request ) if ( isDefined( this.logger ) ) { this.logger.error( errorEvent, onErrorCallback ) } else if ( isDefined( onErrorCallback ) ) { onErrorCallback( errorEvent ) } } /** * The private _onEnd method is call after all other callback and perform request type checking in view to upadte cache, waitingqueue and callback if needed, * to finally close the request * * @param request * @param onLoadCallback * @param response * @private */ _onEnd ( request, onLoadCallback, response ) { const type = request._type switch ( type ) { case RequestType.ReadOne: case RequestType.ReadMany: this._updateCache( response ) this._updateWaitingQueue() break case RequestType.ReadWhere: case RequestType.ReadAll: this._updateCache( response ) this._updateWaitingQueue() onLoadCallback( response ) break case RequestType.CreateOne: case RequestType.CreateMany: case RequestType.UpdateOne: case RequestType.UpdateMany: case RequestType.UpdateWhere: case RequestType.UpdateAll: case RequestType.DeleteOne: case RequestType.DeleteMany: case RequestType.DeleteWhere: case RequestType.DeleteAll: onLoadCallback( response ) break default: throw new RangeError( `Invalid request type: ${ type }` ) } this._closeRequest( request ) } //// Data parsing // Expect that methods were reimplemented when TDataBaseManager is inherited /** * Dispatch response to the correct handler in function of response type * * @param response * @param responseType * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _dispatchResponse ( response, responseType, onLoadCallback, onProgressCallback, onErrorCallback ) { switch ( responseType ) { case ResponseType.ArrayBuffer.value: this._onArrayBuffer( response, onLoadCallback, onProgressCallback, onErrorCallback ) break case ResponseType.Blob.value: this._onBlob( response, onLoadCallback, onProgressCallback, onErrorCallback ) break case ResponseType.Json.value: this._onJson( response, onLoadCallback, onProgressCallback, onErrorCallback ) break case ResponseType.DOMString.value: case ResponseType.Default.value: this._onText( response, onLoadCallback, onProgressCallback, onErrorCallback ) break default: throw new Error( `Unknown response type: ${ responseType }` ) } } /** * Will remove the request from the process queue * * @param request * @private */ _closeRequest ( request ) { this._processQueue.splice( this._processQueue.indexOf( request ), 1 ) if ( Window.Itee &amp;&amp; Window.Itee.Debug ) { const diff = new Date().valueOf() - request._timeStart.valueOf() const message = `${ this.constructor.name } close request [${ request._id }] on ${ diff }ms.` + `Waiting queue: ${ this._waitingQueue.length }` + `Request queue: ${ this._requestQueue.length }` + `Process queue: ${ this._processQueue.length }` + `==========================` this.logger.debug( message ) } this.processQueue() } /** * * @param ids * @returns {Object} * @private */ _retrieveCachedValues ( ids ) { let results = {} let underRequest = [] let toRequest = [] for ( let idIndex = 0, numberOfIds = ids.length ; idIndex &lt; numberOfIds ; idIndex++ ) { const id = ids[ idIndex ] const cachedValue = this._cache.get( id ) if ( isDefined( cachedValue ) ) { results[ id ] = cachedValue } else if ( isNull( cachedValue ) ) { // In request underRequest.push( id ) } else { toRequest.push( id ) } } return { results, underRequest, toRequest } } /** * * @param datas * @private */ _updateCache ( datas ) { if ( isNull( datas ) ) { throw new TypeError( 'Data cannot be null ! Expect an array of object.' ) } if ( isUndefined( datas ) ) { throw new TypeError( 'Data cannot be undefined ! Expect an array of object.' ) } let _datas = {} if ( isArray( datas ) ) { for ( let key in datas ) { _datas[ datas[ key ]._id ] = datas[ key ] } } else { _datas = datas } for ( let [ id, data ] of Object.entries( _datas ) ) { const cachedResult = this._cache.get( id ) if ( isNull( cachedResult ) ) { this._cache.add( id, data, true ) } else if ( isUndefined( cachedResult ) ) { this.logger.warn( 'Cache was not pre-allocated with null value.' ) this._cache.add( id, data ) } else { this.logger.error( 'Cached value already exist !' ) } } } /** * * @private */ _updateWaitingQueue () { const haveNoRequestToProcess = ( this._requestQueue.length === 0 &amp;&amp; this._processQueue.length === 0 ) for ( let requestIndex = this._waitingQueue.length - 1 ; requestIndex &gt;= 0 ; requestIndex-- ) { const demand = this._waitingQueue[ requestIndex ] // Update requested datas for ( let dataIndex = demand.underRequest.length - 1 ; dataIndex &gt;= 0 ; dataIndex-- ) { const id = demand.underRequest[ dataIndex ] const cachedResult = this._cache.get( id ) if ( isNotDefined( cachedResult ) ) { continue } // Assign the cached value demand.results[ id ] = cachedResult // Remove the requested object that is now added demand.underRequest.splice( demand.underRequest.indexOf( id ), 1 ) } // Check if request is now fullfilled const demandIsComplet = ( demand.underRequest.length === 0 ) if ( demandIsComplet ) { this._waitingQueue.splice( requestIndex, 1 ) demand.onLoadCallback( demand.results ) } else if ( !demandIsComplet &amp;&amp; haveNoRequestToProcess /* &amp;&amp; haveTryAgainManyTimesButFail */ ) { this.logger.warn( 'Incomplet demand but empty request/process queue' ) this._waitingQueue.splice( requestIndex, 1 ) demand.onLoadCallback( demand.results ) } else { // Wait next response } } } /** * The abstract private _onArrayBuffer method must be overridden in case the parser expect an array buffer as input data. * * @private * @abstract * @param {ArrayBuffer} data - The retrieved data to parse. * @param {function} onSuccess - The onLoad callback, which is call when parser parse with success the data. * @param {function} onProgress - The onProgress callback, which is call during the parsing. * @param {function} onError - The onError callback, which is call when parser throw an error during parsing. */ // eslint-disable-next-line no-unused-vars _onArrayBuffer ( data, onSuccess, onProgress, onError ) {} /** * The abstract private _onBlob method must be overridden in case the parser expect a blob as input data. * * @private * @abstract * @param {Blob} data - The retrieved data to parse. * @param {function} onSuccess - The onLoad callback, which is call when parser parse with success the data. * @param {function} onProgress - The onProgress callback, which is call during the parsing. * @param {function} onError - The onError callback, which is call when parser throw an error during parsing. */ // eslint-disable-next-line no-unused-vars _onBlob ( data, onSuccess, onProgress, onError ) {} /** * The abstract private _onJson method must be overridden in case the parser expect json as input data. * * @private * @abstract * @param {json} data - The retrieved data to parse. * @param {function} onSuccess - The onLoad callback, which is call when parser parse with success the data. * @param {function} onProgress - The onProgress callback, which is call during the parsing. * @param {function} onError - The onError callback, which is call when parser throw an error during parsing. */ // eslint-disable-next-line no-unused-vars _onJson ( data, onSuccess, onProgress, onError ) {} /** * The abstract private _onText method must be overridden in case the parser expect a string/text as input data. * * @private * @abstract * @param {string} data - The retrieved data to parse. * @param {function} onSuccess - The onLoad callback, which is call when parser parse with success the data. * @param {function} onProgress - The onProgress callback, which is call during the parsing. * @param {function} onError - The onError callback, which is call when parser throw an error during parsing. */ // eslint-disable-next-line no-unused-vars _onText ( data, onSuccess, onProgress, onError ) {} // REST Api calls /** * The private _create method allow to format a server request to create objects with the given data and get creation result with given callbacks. * * @private * @param {object} data - The data to send. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ _createOne ( data, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `createOne_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.CreateOne, method: HttpVerb.Create.value, url: this._basePath, data: data, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param datas * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _createMany ( datas, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `createMany_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.CreateMany, method: HttpVerb.Create.value, url: this._basePath, data: datas, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * The private _updateOne method will format a server request to get a single object with the given id. * * @private * @param {string} id - The object's id of the object to retrieve. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ _readOne ( id, projection, onLoadCallback, onProgressCallback, onErrorCallback ) { // Filter requested values by cached values const datas = this._retrieveCachedValues( [ id ] ) // retrieveLocalStorageValues... // getDatabaseValues() if ( datas.toRequest.length === 0 ) { if ( datas.underRequest.length === 0 ) { onLoadCallback( datas.results ) } else { datas[ 'onLoadCallback' ] = onLoadCallback datas[ 'onProgressCallback' ] = onProgressCallback datas[ 'onErrorCallback' ] = onErrorCallback this._waitingQueue.push( datas ) } } else { datas[ 'onLoadCallback' ] = onLoadCallback datas[ 'onProgressCallback' ] = onProgressCallback datas[ 'onErrorCallback' ] = onErrorCallback this._waitingQueue.push( datas ) try { this._cache.add( id, null ) datas.underRequest.push( id ) datas.toRequest.splice( datas.toRequest.indexOf( id ), 1 ) } catch ( error ) { this.logger.error( error ) } this._idToRequest.push( id ) this.aggregateQueue() } } /** * The private _readMany method will format a server request to get objects with id in the ids array. * * @private * @param {array.&lt;string&gt;} ids - The ids of objects to retrieve. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. */ _readMany ( ids, projection, onLoadCallback, onProgressCallback, onErrorCallback ) { // Filter requested values by cached values const datas = this._retrieveCachedValues( ids ) // retrieveLocalStorageValues... // getDatabaseValues() if ( datas.toRequest.length === 0 ) { if ( datas.underRequest.length === 0 ) { onLoadCallback( datas.results ) } else { datas[ 'onLoadCallback' ] = onLoadCallback datas[ 'onProgressCallback' ] = onProgressCallback datas[ 'onErrorCallback' ] = onErrorCallback this._waitingQueue.push( datas ) } } else { datas[ 'onLoadCallback' ] = onLoadCallback datas[ 'onProgressCallback' ] = onProgressCallback datas[ 'onErrorCallback' ] = onErrorCallback this._waitingQueue.push( datas ) const datasToRequest = datas.toRequest let id = undefined for ( let idIndex = datasToRequest.length - 1 ; idIndex &gt;= 0 ; idIndex-- ) { id = datasToRequest[ idIndex ] // Prepare entry for id to request try { this._cache.add( id, null ) datas.underRequest.push( id ) datas.toRequest.splice( datas.toRequest.indexOf( id ), 1 ) } catch ( error ) { this.logger.error( error ) } this._idToRequest.push( id ) } this.aggregateQueue() } } /** * * @param query * @param projection * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _readWhere ( query, projection, onLoadCallback, onProgressCallback, onErrorCallback ) { // // Filter requested values by cached values // const datas = { // results: {}, // underRequest: [], // toRequest: [] // } // // datas[ 'onLoadCallback' ] = onLoadCallback // this._waitingQueue.push( datas ) this._requestQueue.push( { _id: `readWhere_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.ReadWhere, method: HttpVerb.Read.value, url: this._basePath, data: { query, projection }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param projection * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _readAll ( projection, onLoadCallback, onProgressCallback, onErrorCallback ) { // const datas = { // results: {}, // underRequest: [], // toRequest: [] // } // // datas[ 'onLoadCallback' ] = onLoadCallback // this._waitingQueue.push( datas ) const query = {} this._requestQueue.push( { _id: `readAll_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.ReadAll, method: HttpVerb.Read.value, url: this._basePath, data: { query, projection }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * The private _updateOne method will format a server request to update a single object with the given id. * * @param {string} id - The object's id of the object to update. * @param update * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @private */ _updateOne ( id, update, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `updateOne_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.UpdateOne, method: HttpVerb.Update.value, url: `${ this._basePath }/${ id }`, data: { update }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * The private _updateMany method will format a server request to update objects with id in the ids array. * * @param {array.&lt;string&gt;} ids - The ids of objects to update. * @param update * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @private */ _updateMany ( ids, update, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `updateMany_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.UpdateMany, method: HttpVerb.Update.value, url: this._basePath, data: { ids, update }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param query * @param update * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _updateWhere ( query, update, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `updateWhere_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.UpdateWhere, method: HttpVerb.Update.value, url: this._basePath, data: { query, update }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param update * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _updateAll ( update, onLoadCallback, onProgressCallback, onErrorCallback ) { const query = {} this._requestQueue.push( { _id: `updateAll_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.UpdateAll, method: HttpVerb.Update.value, url: this._basePath, data: { query, update }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * The private _deleteOne method will format a server request to delete a single object with the given id. * * @param {string} id - The object's id of the object to delete. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @private */ _deleteOne ( id, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `deleteOne_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.DeleteOne, method: HttpVerb.Delete.value, url: `${ this._basePath }/${ id }`, data: null, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * The private _deleteMany method will format a server request to delete objects with id in the ids array. * * @param {array.&lt;string&gt;} ids - The ids of objects to delete. * @param {function} onLoadCallback - The onLoad callback, which is call when server respond with success to the request. * @param {function} onProgressCallback - The onProgress callback, which is call during the response incoming. * @param {function} onErrorCallback - The onError callback, which is call when server respond with an error to the request. * @private */ _deleteMany ( ids, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `deleteMany_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.DeleteMany, method: HttpVerb.Delete.value, url: this._basePath, data: { ids }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param query * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _deleteWhere ( query, onLoadCallback, onProgressCallback, onErrorCallback ) { this._requestQueue.push( { _id: `deleteWhere_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.DeleteWhere, method: HttpVerb.Delete.value, url: this._basePath, data: { query }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } /** * * @param onLoadCallback * @param onProgressCallback * @param onErrorCallback * @private */ _deleteAll ( onLoadCallback, onProgressCallback, onErrorCallback ) { const query = {} this._requestQueue.push( { _id: `deleteAll_${ Generate.id }`, _timeStart: new Date(), _type: RequestType.DeleteAll, method: HttpVerb.Delete.value, url: this._basePath, data: { query }, onLoad: onLoadCallback, onProgress: onProgressCallback, onError: onErrorCallback, responseType: this._responseType } ) this.processQueue() } } // Static stuff /** * * @type {number} * @private */ TDataBaseManager._requestId = 0 /** * * @type {Object} * @private */ TDataBaseManager._requests = { /** * The global waiting queue to process */ waitingQueue: {}, /** * The objects not requested yet */ toProcess: { create: {}, read: {}, update: {}, delete: {} }, /** * The object currently under request */ underProcess: { create: {}, read: {}, update: {}, delete: {} }, /** * The objects already processed */ processed: { create: {}, read: {}, update: {}, delete: {} } } //TDataBaseManager._orchestrator = TOrchestrator export { TDataBaseManager } × Search results Close "},"configs_eslint.conf.js.html":{"id":"configs_eslint.conf.js.html","title":"Source: configs/eslint.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/eslint.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module Config-EsLint * @description The configuration file of the eslint plugin * */ /** * Will create an appropriate configuration object for eslint * * @generator * @returns {object} The eslint configuration */ function CreateEslintConfiguration () { return { env: { 'browser': true, 'node': true, 'es6': true }, globals: { 'BigInt64Array': 'readonly', 'BigUint64Array': 'readonly' }, parserOptions: { parser: '@babel/eslint-parser', requireConfigFile: false, ecmaVersion: 2018, sourceType: 'module' }, extends: [ 'eslint:recommended', 'plugin:vue/essential' ], plugins: [ 'mocha', 'vue' ], rules: { 'no-multiple-empty-lines': [ 1, { 'max': 2 } ], 'no-mixed-spaces-and-tabs': 1, 'mocha/no-exclusive-tests': 'error', 'no-console': 1, 'no-unused-vars': 1, 'no-multi-spaces': [ 'error', { exceptions: { 'Property': true, 'ImportDeclaration': true, 'VariableDeclarator': true, 'AssignmentExpression': true } } ], 'key-spacing': [ 'error', { 'align': { 'beforeColon': false, 'afterColon': true, 'on': 'value' } } ] } } } module.exports = CreateEslintConfiguration() × Search results Close "},"configs_jsdoc.conf.js.html":{"id":"configs_jsdoc.conf.js.html","title":"Source: configs/jsdoc.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/jsdoc.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module Config-JsDoc * @description The configuration file of the jsdoc plugin */ /** * Will create an appropriate configuration object for jsdoc * * @generator * @returns {object} The jsdoc configuration */ function CreateJsdocConfiguration () { return { tags: { allowUnknownTags: false, dictionaries: [ 'jsdoc', 'closure' ] }, source: { include: [ 'README.md' ], includePattern: '.+\\\\.js(doc|x)?$', excludePattern: '(node_modules|docs|builds|tests)', exclude: [] }, sourceType: 'module', plugins: [], recurseDepth: 5, opts: { access: 'all', debug: false, encoding: 'utf8', destination: 'docs', recurse: true, verbose: true, private: true }, templates: { cleverLinks: false, monospaceLinks: false, navType: 'inline', theme: [ 'cerulean', 'cosmo', 'darkly', 'cyborg', 'flatly', 'journal', 'lumen', 'paper', 'readable', 'sandstone', 'simplex', 'slate', 'spacelab', 'superhero', 'united', 'yeti' ][ 3 ], syntaxTheme: 'dark', linenums: true, collapseSymbols: false, sort: 'longname, version, since', search: true, systemName: 'Itee-Client', footer: '', copyright: 'Copyright 2015-Present &lt;a href=\"https://github.com/Itee\"&gt;Itee&lt;/a&gt; (Tristan Valcke)', includeDate: false, inverseNav: false, outputSourceFiles: true, outputSourcePath: true } } } module.exports = CreateJsdocConfiguration() × Search results Close "},"configs_karma.benchs.conf.js.html":{"id":"configs_karma.benchs.conf.js.html","title":"Source: configs/karma.benchs.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/karma.benchs.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module Config-Karma-Benchs * @description The file manage the karma configuration for run benchmarks that are under `tests/benchmarks` folder */ const packageInfos = require( '../package' ) /** * Will assign an appropriate configuration object about benchmarks for karma. * * @generator * @param {object} config - The karma configuration object to extend */ function CreateKarmaBenchmarkConfiguration ( config ) { config.set( { // base path that will be used to resolve all patterns (eg. files, exclude) basePath: '../tests/', // frameworks to use // available frameworks: https://npmjs.org/browse/keyword/karma-adapter frameworks: [ 'benchmark' ], // list of files / patterns to load in the browser files: [ `builds/${packageInfos.name}.benchs.js` ], // list of files to exclude exclude: [], // preprocess matching files before serving them to the browser // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor preprocessors: {}, // test results reporter to use // possible values: 'dots', 'progress' // available reporters: https://npmjs.org/browse/keyword/karma-reporter reporters: [ 'benchmark' ], benchmarkReporter: { colors: true, // style: { // benchmark: chalk.stripColor, // summaryBenchmark: chalk.underline, // summaryEmphasis: chalk.bold.underline, // browser: chalk.blue, // decorator: chalk.cyan, // hz: chalk.green, // hzUnits: chalk.italic.dim, // suite: chalk.bold.magenta // }, decorator: '*', terminalWidth: 60, hzWidth: 4, hzUnits: 'ops/sec', browserWidth: 40, showBrowser: false, showSuiteSummary: true // formatBenchmark: formatBenchmark, // formatSuiteHeading: formatSuiteHeading, // formatSuiteSummary: formatSuiteSummary }, // web server port port: 9876, // enable / disable colors in the output (reporters and logs) colors: true, // level of logging // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG logLevel: config.LOG_INFO, // enable / disable watching file and executing tests whenever any file changes autoWatch: false, // start these browsers // available browser launchers: https://npmjs.org/browse/keyword/karma-launcher browsers: [ 'Firefox' ], // browsers: [ 'Chrome' ], // browsers: [ 'Edge' ], // browsers: [ 'Firefox', 'Chrome', 'Edge' ], // Format assertion errors and stack traces. Useful for removing vendors and compiled sources. Return an empty line '' to remove it. formatError: () =&gt; '', // Continuous Integration mode // if true, Karma captures browsers, runs the tests and exits singleRun: true, // Concurrency level // how many browser should be started simultaneous concurrency: 4, // If, during test execution, Karma does not receive any message from a browser browserNoActivityTimeout: 60000, browserDisconnectTimeout: 60000, // If browser does not capture in given timeout [ms], kill it captureTimeout: 60000, // How long will Karma wait for browser process to terminate before sending a SIGKILL signal. processKillTimeout: 360000 } ) } module.exports = CreateKarmaBenchmarkConfiguration × Search results Close "},"configs_karma.units.conf.js.html":{"id":"configs_karma.units.conf.js.html","title":"Source: configs/karma.units.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/karma.units.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module Config-Karma-Units * @description The file manage the karma configuration for run units tests that are under `tests/units` folder */ const packageInfos = require( '../package' ) /** * Will assign an appropriate configuration object about unit tests for karma. * * @generator * @param {object} config - The karma configuration object to extend */ function CreateKarmaUnitsConfiguration ( config ) { config.set( { // base path that will be used to resolve all patterns (eg. files, exclude) basePath: '../tests/', // frameworks to use // available frameworks: https://npmjs.org/browse/keyword/karma-adapter frameworks: [ 'mocha', 'chai' ], // list of files / patterns to load in the browser files: [ `builds/${packageInfos.name}.units.js` ], // list of files to exclude exclude: [], // preprocess matching files before serving them to the browser // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor preprocessors: {}, // test results reporter to use // possible values: 'dots', 'progress' // available reporters: https://npmjs.org/browse/keyword/karma-reporter reporters: [ 'mocha', 'html' ], htmlReporter: { outputFile: '../docs/unit-tests-report.html', // Optional pageTitle: 'Unit Tests', subPageTitle: 'Result of unit testing for Itee-Client.', groupSuites: true, useCompactStyle: false, useLegacyStyle: false, showOnlyFailed: false }, // web server port port: 9876, // enable / disable colors in the output (reporters and logs) colors: true, // level of logging // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG logLevel: config.LOG_INFO, // enable / disable watching file and executing tests whenever any file changes autoWatch: false, // start these browsers // available browser launchers: https://npmjs.org/browse/keyword/karma-launcher browsers: [ 'Firefox' ], // browsers: [ 'Chrome' ], // browsers: [ 'Edge' ], // browsers: [ 'Firefox', 'Chrome', 'Edge' ], // Format assertion errors and stack traces. Useful for removing vendors and compiled sources. Return an empty line '' to remove it. formatError: () =&gt; '', // Continuous Integration mode // if true, Karma captures browsers, runs the tests and exits singleRun: true, // Concurrency level // how many browser should be started simultaneous concurrency: 4, // If, during test execution, Karma does not receive any message from a browser browserNoActivityTimeout: 60000, browserDisconnectTimeout: 60000, // If browser does not capture in given timeout [ms], kill it captureTimeout: 60000, // How long will Karma wait for browser process to terminate before sending a SIGKILL signal. processKillTimeout: 360000 } ) } module.exports = CreateKarmaUnitsConfiguration × Search results Close "},"configs_rollup.conf.js.html":{"id":"configs_rollup.conf.js.html","title":"Source: configs/rollup.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/rollup.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module Config-Rollup * @description The file manage the rollup configuration for build the library using differents arguments. It allow to build with two type of environment (dev and prod), and differents output format. * Use npm run help to display all available build options. * * @requires {@link module: [path]{@link https://nodejs.org/api/path.html}} * @requires {@link module: [rollup-plugin-terser]{@link https://github.com/TrySound/rollup-plugin-terser}} */ /* eslint-env node */ const packageInfos = require( '../package' ) const path = require( 'path' ) const { nodeResolve } = require( '@rollup/plugin-node-resolve' ) const terser = require( 'rollup-plugin-terser' ).terser function _computeBanner ( name, format ) { const packageName = name || packageInfos.name let prettyFormat = '' switch ( format ) { case 'cjs': prettyFormat = 'CommonJs' break case 'esm': prettyFormat = 'EsModule' break case 'iife': prettyFormat = 'Standalone' break case 'umd': prettyFormat = 'Universal' break default: throw new RangeError( `Invalid switch parameter: ${ format }` ) } return `console.log('${ packageName } v${ packageInfos.version } - ${ prettyFormat }')` } function _computeIntro () { return '' + 'if( iteeValidators === undefined ) { console.error(\\'Itee.Client need Itee.Validators to be defined first. Please check your scripts loading order.\\') }' + '\\n' + 'if( iteeUtils === undefined ) { console.error(\\'Itee.Client need Itee.Utils to be defined first. Please check your scripts loading order.\\') }' + '\\n' + 'if( iteeCore === undefined ) { console.error(\\'Itee.Client need Itee.Core to be defined first. Please check your scripts loading order.\\') }' + '\\n' } /** * Will create an appropriate configuration object for rollup, related to the given arguments. * * @generator * @param options * @return {Array.&lt;json&gt;} An array of rollup configuration */ function CreateRollupConfigs ( options ) { 'use strict' const { name, input, output, formats, envs, treeshake } = options const fileName = path.basename( input, '.js' ) const configs = [] for ( let formatIndex = 0, numberOfFormats = formats.length ; formatIndex &lt; numberOfFormats ; ++formatIndex ) { for ( let envIndex = 0, numberOfEnvs = envs.length ; envIndex &lt; numberOfEnvs ; envIndex++ ) { const env = envs[ envIndex ] const isProd = ( env.includes( 'prod' ) ) const format = formats[ formatIndex ] const outputPath = ( isProd ) ? path.join( output, `${ fileName }.${ format }.min.js` ) : path.join( output, `${ fileName }.${ format }.js` ) configs.push( { input: input, external: [ 'itee-validators', 'itee-utils', 'itee-core' ], plugins: [ nodeResolve(), isProd &amp;&amp; terser() ], onwarn: ( { loc, frame, message } ) =&gt; { // Ignore some errors if ( message.includes( 'Circular dependency' ) ) { return } if ( message.includes( 'plugin uglify is deprecated' ) ) { return } if ( loc ) { process.stderr.write( `/!\\\\ ${ loc.file } (${ loc.line }:${ loc.column }) ${ frame } ${ message }\\n` ) } else { process.stderr.write( `/!\\\\ ${ message }\\n` ) } }, treeshake: treeshake, output: { // core options file: outputPath, format: format, name: name, globals: { 'itee-validators': 'Itee.Validators', 'itee-utils': 'Itee.Utils', 'itee-core': 'Itee.Core' }, // advanced options paths: {}, banner: ( isProd ) ? '' : _computeBanner( name, format ), footer: '', intro: ( !isProd &amp;&amp; format === 'iife' ) ? _computeIntro() : '', outro: '', sourcemap: !isProd, interop: true, // danger zone exports: 'auto', amd: {}, indent: '\\t', strict: true } } ) } } return configs } module.exports = CreateRollupConfigs × Search results Close "},"configs_rollup.benchs.conf.js.html":{"id":"configs_rollup.benchs.conf.js.html","title":"Source: configs/rollup.benchs.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/rollup.benchs.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module configs/Rollup-Test * @description The file manage the rollup configuration for build tests */ const packageInfos = require( '../package' ) /** * Will create an appropriate configuration object for rollup, related to the given arguments. * * @generator * @return {Array.&lt;json&gt;} An array of rollup configuration */ function CreateBenchmarksRollupConfigs ( /*options*/ ) { 'use strict' return [ // For Node { input: `tests/benchmarks/${packageInfos.name}.benchs.js`, plugins: [], treeshake: true, output: { indent: '\\t', format: 'cjs', name: 'Itee.Benchs', file: `tests/benchmarks/builds/${packageInfos.name}.benchs.cjs.js` } }, // For Karma { input: `tests/benchmarks/${packageInfos.name}.benchs.js`, plugins: [], treeshake: true, output: { indent: '\\t', format: 'iife', name: 'Itee.Benchs', file: `tests/benchmarks/builds/${packageInfos.name}.benchs.iife.js` } }, ] } module.exports = CreateBenchmarksRollupConfigs × Search results Close "},"configs_rollup.units.conf.js.html":{"id":"configs_rollup.units.conf.js.html","title":"Source: configs/rollup.units.conf.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: configs/rollup.units.conf.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * * @module configs/Rollup-Test * @description The file manage the rollup configuration for build tests */ const packageInfos = require( '../package' ) /** * Will create an appropriate configuration object for rollup, related to the given arguments. * * @generator * @return {Array.&lt;json&gt;} An array of rollup configuration */ function CreateUnitsRollupConfigs ( /*options*/ ) { 'use strict' return [ // For node { input: `tests/units/${packageInfos.name}.units.js`, external: [ 'chai' ], plugins: [], treeshake: true, output: { indent: '\\t', format: 'cjs', name: 'Itee.Units', file: `tests/units/builds/${packageInfos.name}.units.cjs.js` } }, // For karma { input: `tests/units/${packageInfos.name}.units.js`, external: [ 'chai', 'mocha' ], plugins: [], treeshake: true, output: { indent: '\\t', format: 'iife', name: 'Itee.Units', globals: { 'chai': 'chai', 'mocha': 'mocha' }, file: `tests/units/builds/${packageInfos.name}.units.iife.js` } }, ] } module.exports = CreateUnitsRollupConfigs × Search results Close "},"sources_cores__cores.js.html":{"id":"sources_cores__cores.js.html","title":"Source: sources/cores/_cores.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/_cores.js /** * @module InputDevice * @description Intermediary export file for cores. Export [Constants]{@link globals}, [TStore]{@link TStore}, [TAbstractFactory]{@link TAbstractFactory}, [TCloningFactory]{@link TCloningFactory}, and [TInstancingFactory]{@link TInstancingFactory} * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ /* eslint-env browser */ export * from './TConstants' export { TStore } from './TStore' export { TAbstractFactory } from './TAbstractFactory' export { TCloningFactory } from './TCloningFactory' export { TInstancingFactory } from './TInstancingFactory' × Search results Close "},"sources_input_devices__inputDevices.js.html":{"id":"sources_input_devices__inputDevices.js.html","title":"Source: sources/input_devices/_inputDevices.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/input_devices/_inputDevices.js /** * @module InputDevice * @description Intermediary export file for input devices stuff. Export [TKeyboardController]{@link TKeyboardController} and [TMouseController]{@link TMouseController} * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export { TKeyboardController } from './TKeyboardController' export { TMouseController } from './TMouseController' × Search results Close "},"sources_loaders__loaders.js.html":{"id":"sources_loaders__loaders.js.html","title":"Source: sources/loaders/_loaders.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/loaders/_loaders.js /** * @module Loaders * @description Intermediary export file for loaders. Export [TBinaryReader]{@link TBinaryReader}, [Endianness]{@link Endianness}, and [Byte]{@link Byte} * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './TBinaryConverter' export * from './TBinaryReader' export * from './TBinarySerializer' export * from './TBinaryWriter' export * from './converters/NullBinaryConverter' export * from './converters/UndefinedBinaryConverter' export * from './converters/NumberBinaryConverter' export * from './converters/StringBinaryConverter' export * from './converters/DateBinaryConverter' export * from './converters/RegExBinaryConverter' export * from './converters/ArrayBinaryConverter' export * from './converters/ObjectBinaryConverter' × Search results Close "},"sources_utils__utils.js.html":{"id":"sources_utils__utils.js.html","title":"Source: sources/utils/_utils.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/utils/_utils.js /** * @module Managers * @description Intermediary export file for client manager. Export [TDataBaseManager]{@link TDataBaseManager}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './TIdFactory' × Search results Close "},"sources_managers__managers.js.html":{"id":"sources_managers__managers.js.html","title":"Source: sources/managers/_managers.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/managers/_managers.js /** * @module Managers * @description Intermediary export file for client manager. Export [TDataBaseManager]{@link TDataBaseManager}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ /* eslint-env browser */ export { TDataBaseManager } from './TDataBaseManager' × Search results Close "},"sources_webapis__webapis.js.html":{"id":"sources_webapis__webapis.js.html","title":"Source: sources/webapis/_webapis.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/_webapis.js /** * @module WebAPI * @description Intermediary export file for webapi. Export [AbstractWebAPI]{@link AbstractWebAPI} and all web api messages from [WebAPIMessages]{@link module:WebAPI/Messages}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './WebAPI' export * from './messages/_messages' × Search results Close "},"sources_webapis_messages__messages.js.html":{"id":"sources_webapis_messages__messages.js.html","title":"Source: sources/webapis/messages/_messages.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/_messages.js /** * @module WebAPI/Messages * @description Intermediary export file for webapi messages. Export [WebAPIMessage]{@link WebAPIMessage}, [WebAPIMessageData]{@link WebAPIMessageData}, [WebAPIMessageError]{@link WebAPIMessageError}, * [WebAPIMessageProgress]{@link WebAPIMessageProgress}, [WebAPIMessageReady]{@link WebAPIMessageReady}, [WebAPIMessageRequest]{@link WebAPIMessageRequest}, and [WebAPIMessageResponse]{@link WebAPIMessageResponse}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './WebAPIMessage' export * from './WebAPIMessageData' export * from './WebAPIMessageError' export * from './WebAPIMessageProgress' export * from './WebAPIMessageReady' export * from './WebAPIMessageRequest' export * from './WebAPIMessageResponse' × Search results Close "},"sources_workers__workers.js.html":{"id":"sources_workers__workers.js.html","title":"Source: sources/workers/_workers.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/workers/_workers.js /** * @module Workers * @description Intermediary export file for workers. Export [AbstractWorker]{@link AbstractWorker} and all worker messages from [Worker/Messages]{@link module:Workers/Messages}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './AbstractWorker' export * from './messages/_messages' × Search results Close "},"sources_workers_messages__messages.js.html":{"id":"sources_workers_messages__messages.js.html","title":"Source: sources/workers/messages/_messages.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/workers/messages/_messages.js /** * @module Workers/Messages * @description Intermediary export file for worker messages. Export [WorkerMessage]{@link WorkerMessage}, [WorkerMessageData]{@link WorkerMessageData}, [WorkerMessageError]{@link WorkerMessageError}, * [WorkerMessageMethodCall]{@link WorkerMessageMethodCall}, and [WorkerMessageProgress]{@link WorkerMessageProgress}. * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './WorkerMessage' export * from './WorkerMessageData' export * from './WorkerMessageError' export * from './WorkerMessageMethodCall' export * from './WorkerMessageProgress' × Search results Close "},"sources_itee-client.js.html":{"id":"sources_itee-client.js.html","title":"Source: sources/itee-client.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/itee-client.js /** * @file The main entry point for Itee-Client, it contains all exports of the library * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ export * from './cores/_cores' export * from './input_devices/_inputDevices' export * from './loaders/_loaders' export * from './managers/_managers' export * from './utils/_utils' export * from './webapis/_webapis' export * from './workers/_workers' × Search results Close "},"sources_cores_TAbstractFactory.js.html":{"id":"sources_cores_TAbstractFactory.js.html","title":"Source: sources/cores/TAbstractFactory.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/TAbstractFactory.js import { TStore } from './TStore' /** * @class * @classdesc The abstract class to create factory * @abstract * @extends TStore * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TAbstractFactory extends TStore { /** * @constructor * @param parameters */ constructor ( parameters = {} ) { const _parameters = { ...{}, ...parameters } super( _parameters ) } /** * The create factory method. It allow to automate Class creation by constructor key, and parameters to pass for initialized the instance. * @abstract * @param {*} key * @param parameters */ // eslint-disable-next-line no-unused-vars create ( key, ...parameters ) { // Need to be reimplemented } } export { TAbstractFactory } × Search results Close "},"sources_cores_TStore.js.html":{"id":"sources_cores_TStore.js.html","title":"Source: sources/cores/TStore.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/TStore.js import { isFunction, isNotArray, isNotBoolean, isNotObject, isNotUndefined, isNull, isString, isUndefined } from 'itee-validators' /** * @class * @classdesc TStore is a simple javascript object whose purpose is to store some ket/value data to future usage. It could be enable/disable. * * @example {@lang javascript} * var cache = new TCache() * cache.add( 'foo', 'bar' ) * TLogger.log( cache.get('foo') ) // 'bar' * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TStore { /** * * @param value * @param validators * @private */ static _validate ( value, validators ) { for ( let validatorIndex = 0, numberOfValidators = validators.length ; validatorIndex &lt; numberOfValidators ; validatorIndex++ ) { let validator = validators[ validatorIndex ] if ( !validator.validator( value ) ) { const error = validator.error if ( isString( error ) ) { throw new TypeError( error ) } else if ( isFunction( error ) ) { throw new TypeError( error( value ) ) } else { throw new TypeError( `${ value } is invalid.` ) } } } } /** * @constructor * @param {Object} [parameters={}] * @param {Object} [parameters.collection={}] * @param {Boolean} [parameters.allowOverride=false] * @param {Array.&lt;function&gt;} [parameters.keyValidators=[]] * @param {Array.&lt;function&gt;} [parameters.valueValidators=[]] */ constructor ( parameters = {} ) { const _parameters = { ...{ collection: {}, allowOverride: false, keyValidators: [], valueValidators: [] }, ...parameters } this.collection = _parameters.collection this.allowOverride = _parameters.allowOverride this.keyValidators = _parameters.keyValidators this.valueValidators = _parameters.valueValidators } /** * * @return {{}} */ get collection () { return this._collection } set collection ( value ) { const memberName = 'Collection' const expect = 'Expect an object.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotObject( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._collection = value } /** * * @return {*} */ get allowOverride () { return this._allowOverride } set allowOverride ( value ) { const memberName = 'Allow override' const expect = 'Expect a boolean.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotBoolean( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._allowOverride = value } /** * * @return {*} */ get keyValidators () { return this._keyValidators } set keyValidators ( value ) { const memberName = 'Keys validators' const expect = 'Expect an array of TValidator or an empty array.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotArray( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._keyValidators = value } /** * * @return {*} */ get valueValidators () { return this._valueValidators } set valueValidators ( value ) { const memberName = 'Values validators' const expect = 'Expect an array of TValidator or an empty array.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotArray( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._valueValidators = value } /** * * @return {string[]} */ get keys () { return Object.keys( this._collection ) } /** * * @return {unknown[] | any[]} */ get values () { return Object.values( this._collection ) } /** * * @param value * @return {TStore} The current instance (this) */ setCollection ( value ) { this.collection = value return this } /** * * @param value * @return {TStore} The current instance (this) */ setAllowOverride ( value ) { this.allowOverride = value return this } /** * * @param value * @return {TStore} The current instance (this) */ setKeyValidators ( value ) { this.keyValidators( value ) return this } /** * * @param value * @return {TStore} The current instance (this) */ setValueValidators ( value ) { this.valueValidators( value ) return this } /** * Allow to add new key value pair, the key cannot be null, undefined, or an empty string. * In case the key already exist, the value will be overwritten if force params is true or this * allow overriding else it throw an TypeError. * * @param {*} key * @param {*} value * @param {Boolean} force * @return {TStore} The current instance (this) */ add ( key, value, force = false ) { if ( this.contain( key ) &amp;&amp; ( !this._allowOverride &amp;&amp; !force ) ) { throw new TypeError( `Item with key (${ key }) already exist in collection !` ) } TStore._validate( key, this._keyValidators ) TStore._validate( value, this._valueValidators ) this._collection[ key ] = value return this } /** * * @param key * @return {boolean} */ contain ( key ) { return isNotUndefined( this._collection[ key ] ) } /** * Return the value associated to the key. * * @param key * @returns {*} */ get ( key ) { return this._collection[ key ] } /** * Remove to value from the cache. Does nothing if the key does not exist. * * @param key * @return {TStore} The current instance (this) */ remove ( key ) { delete this._collection[ key ] return this } /** * Clear the cache and reset collection to an empty object. * @return {TStore} The current instance (this) */ clear () { this._collection = {} return this } } export { TStore } × Search results Close "},"sources_loaders_TBinaryConverter.js.html":{"id":"sources_loaders_TBinaryConverter.js.html","title":"Source: sources/loaders/TBinaryConverter.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/loaders/TBinaryConverter.js //import { DefaultBinarySerializer } from './TBinarySerializer' class TBinaryConverter { constructor ( targetType, serializer = null ) { // constructor ( targetType, serializer = DefaultBinarySerializer ) { this.targetCtor = targetType this.serializer = serializer } /** * * @param {TBinaryWriter} writer * @param instance * @param options */ to ( writer, instance, options = {} ) { } /** * * @param {TBinaryReader} reader * @param options * @returns {*} */ from ( reader, options = {} ) { return new this.targetCtor() } } export { TBinaryConverter } × Search results Close "},"sources_loaders_TBinaryWriter.js.html":{"id":"sources_loaders_TBinaryWriter.js.html","title":"Source: sources/loaders/TBinaryWriter.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/loaders/TBinaryWriter.js import { isNotArrayBuffer, isNotBoolean, isNotNumber, isNull, isUndefined } from 'itee-validators' import { Byte, Endianness } from './TBinaryReader' /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TBinaryWriter { /** * * @returns {*} */ get buffer () { return this._buffer } set buffer ( value ) { const memberName = 'Buffer' const expect = 'Expect an instance of ArrayBuffer.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotArrayBuffer( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._buffer = value this._offset = 0 this._length = value.byteLength this._updateDataView() } /** * * @returns {*} */ get offset () { return this._offset } set offset ( value ) { const memberName = 'Offset' const expect = 'Expect a number.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotNumber( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._offset = value this._updateDataView() } /** * * @param value */ get length () { return this._length } set length ( value ) { const memberName = 'Length' const expect = 'Expect a number.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotNumber( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._length = value this._updateDataView() } /** * * @returns {*} */ get endianness () { return this._endianness } set endianness ( value ) { const memberName = 'Endianness' const expect = 'Expect a boolean.' if ( isNull( value ) ) { throw new TypeError( `${ memberName } cannot be null ! ${ expect }` ) } if ( isUndefined( value ) ) { throw new TypeError( `${ memberName } cannot be undefined ! ${ expect }` ) } if ( isNotBoolean( value ) ) { throw new TypeError( `${ memberName } cannot be an instance of ${ value.constructor.name } ! ${ expect }` ) } this._endianness = value } constructor ( { buffer = new ArrayBuffer( 1024 ), endianness = Endianness.Little } = {} ) { this.buffer = buffer this.endianness = endianness // Todo: For bit writing use same approche than byte // this._bits = { // buffer: null, // offset: 0, // length: 0 // } this._updateDataView() } /** * * @param buffer * @param offset * @param length * @returns {TBinaryReader} */ setBuffer ( buffer, offset, length ) { this.buffer = buffer this.offset = offset || 0 this.length = length || buffer.byteLength return this } /** * * @param value * @returns {TBinaryReader} */ setOffset ( value ) { this.offset = value return this } /** * * @param value * @returns {TBinaryReader} */ setLength ( value ) { this.length = value return this } /** * * @param endianess * @returns {TBinaryReader} */ setEndianess ( endianess ) { this.endianness = endianess return this } /** * * @param increment * @returns {*} * @private */ _getAndUpdateOffsetBy ( increment ) { const currentOffset = this._offset this._offset += increment // Manage buffer overflow, and auto-extend if needed const bufferByteLength = this._buffer.byteLength if ( this._offset &gt;= bufferByteLength ) { // Create new buffer and view with extended size const newBuffer = new ArrayBuffer( bufferByteLength + 1024 ) const newDataView = new DataView( newBuffer, 0, newBuffer.byteLength ) // Copy data from current to new for ( let i = 0 ; i &lt; bufferByteLength ; i++ ) { newDataView.setUint8( i, this._dataView.getUint8( i ) ) } // Update local this._buffer = newBuffer this._dataView = newDataView } return currentOffset } /** * * @private */ _updateDataView () { this._dataView = new DataView( this._buffer, this._offset, this._length ) } /** * * @returns {boolean} */ isEndOfFile () { return ( this._offset === this._length ) } _iterArray ( values, func, moveNext ) { const currentOffset = this._offset for ( let value of values ) { func( value ) } if ( !moveNext ) { this._offset = currentOffset } } // Bytes /** * * @param offset */ skipOffsetTo ( offset ) { this._offset = offset } /** * * @param nBytes */ skipOffsetOf ( nBytes ) { this._offset += nBytes } setBoolean ( value, moveNext = true ) { this.setUint8( ( ( value &amp; 1 ) === 1 ), moveNext ) } setBooleanArray ( values, moveNext = true ) { this._iterArray( values, this.setBoolean.bind( this ), moveNext ) } setInt8 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.One ) : this._offset this._dataView.setInt8( offset, value ) } setInt8Array ( values, moveNext = true ) { this._iterArray( values, this.setInt8.bind( this ), moveNext ) } setUint8 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.One ) : this._offset this._dataView.setUint8( offset, value ) } setUint8Array ( values, moveNext = true ) { this._iterArray( values, this.setUint8.bind( this ), moveNext ) } setInt16 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Two ) : this._offset this._dataView.setInt16( offset, value, this._endianness ) } setInt16Array ( values, moveNext = true ) { this._iterArray( values, this.setInt16.bind( this ), moveNext ) } setUint16 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Two ) : this._offset this._dataView.setUint16( offset, value, this._endianness ) } setUint16Array ( values, moveNext = true ) { this._iterArray( values, this.setUint16.bind( this ), moveNext ) } setInt32 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset this._dataView.setInt32( offset, value, this._endianness ) } setInt32Array ( values, moveNext = true ) { this._iterArray( values, this.setInt32.bind( this ), moveNext ) } setUint32 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset this._dataView.setUint32( offset, value, this._endianness ) } setUint32Array ( values, moveNext = true ) { this._iterArray( values, this.setUint32.bind( this ), moveNext ) } setInt64 ( /*value, moveNext = true*/ ) { // From THREE.FBXLoader // JavaScript doesn't support 64-bit integer so attempting to calculate by ourselves. // 1 &lt;&lt; 32 will return 1 so using multiply operation instead here. // There'd be a possibility that this method returns wrong value if the value // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER. // TODO: safely handle 64-bit integer using bigint ? throw new Error( 'Not implemented, sorry... any help is welcome !' ) } setInt64Array ( values, moveNext = true ) { this._iterArray( values, this.setInt64.bind( this ), moveNext ) } setUint64 ( /*value, moveNext = true*/ ) { // Note: see setInt64() comment throw new Error( 'Not implemented, sorry... any help is welcome !' ) } setUint64Array ( values, moveNext = true ) { this._iterArray( values, this.setUint64.bind( this ), moveNext ) } setFloat32 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Four ) : this._offset this._dataView.setFloat32( offset, value, this._endianness ) } setFloat32Array ( values, moveNext = true ) { this._iterArray( values, this.setFloat32.bind( this ), moveNext ) } setFloat64 ( value, moveNext = true ) { const offset = ( moveNext ) ? this._getAndUpdateOffsetBy( Byte.Eight ) : this._offset this._dataView.setFloat64( offset, value, this._endianness ) } setFloat64Array ( values, moveNext = true ) { this._iterArray( values, this.setFloat64.bind( this ), moveNext ) } setChar ( value, moveNext = true ) { this.setUint8( value.charCodeAt( 0 ), moveNext ) } setString ( values, moveNext = true ) { this._iterArray( values, this.setChar.bind( this ), moveNext ) } // setArrayBuffer ( value, moveNext = true ) { // // const offset = this._getAndUpdateOffsetBy( size ) // this._dataView.buffer.slice( offset, offset + size ) // // } } export { TBinaryWriter } × Search results Close "},"sources_cores_TCloningFactory.js.html":{"id":"sources_cores_TCloningFactory.js.html","title":"Source: sources/cores/TCloningFactory.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/TCloningFactory.js import { TAbstractFactory } from './TAbstractFactory' /** * @class * @classdesc The TCloningFactory is a kind a factory that performe instanciation by cloning a base instance. * @extends TAbstractFactory * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TCloningFactory extends TAbstractFactory { /** * @param parameters */ constructor ( parameters = {} ) { const _parameters = { ...{}, ...parameters } super( _parameters ) } /** * * @param key * @param parameters * @returns {*} */ create ( key, ...parameters ) { super.create( key, ...parameters ) return this.get( key ).clone( ...parameters ) } } export { TCloningFactory } × Search results Close "},"sources_utils_TIdFactory.js.html":{"id":"sources_utils_TIdFactory.js.html","title":"Source: sources/utils/TIdFactory.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/utils/TIdFactory.js import { toEnum } from 'itee-utils' import { isNotNumber, isNotString, isNull, isUndefined } from 'itee-validators' /** * @deprecated * @type {ReadonlyArray&lt;unknown&gt;} */ const TIdFactoryType = toEnum( { Number: 0, String: 1, Uuid: 2 } ) /** * @deprecated */ class TIdFactory { constructor ( type = TIdFactoryType.Number, base = null ) { this.type = type this.base = base this._counter = 0 } get type () { return this._type } set type ( value ) { if ( isNull( value ) ) { throw new Error( `Type cannot be null ! Expect an value from TIdFactoryType enum: ${ TIdFactoryType.types() }` ) } if ( isUndefined( value ) ) { throw new Error( `Type cannot be undefined ! Expect an value from TIdFactoryType enum: ${ TIdFactoryType.types() }` ) } if ( !TIdFactoryType.includes( value ) ) { throw new Error( `Invalide type ! Expect an value from TIdFactoryType enum: ${ TIdFactoryType.types() }` ) } this._type = value } get base () { return this._base } set base ( value ) { if ( isUndefined( value ) ) { throw new Error( 'Base cannot be undefined ! Expect an instance of Object3D.' ) } if ( ( this._type === TIdFactoryType.Number ) &amp;&amp; isNotNumber( value ) ) { throw new Error( 'Invalide Base ! It does not match the type.' ) } if ( ( this._type === TIdFactoryType.String ) &amp;&amp; isNotString( value ) ) { throw new Error( 'Invalide Base ! It does not match the type.' ) } // if( (this._type === TIdFactoryType.Uuid) &amp;&amp; isNotUuid( value ) ) { throw new Error( 'Invalide Base ! It does not match the type.' ) } this._base = value } setType ( value ) { this.type = value return this } setBase ( value ) { this.base = value return this } createId () { return this._base + this._counter++ } } export { TIdFactory, TIdFactoryType } × Search results Close "},"sources_cores_TInstancingFactory.js.html":{"id":"sources_cores_TInstancingFactory.js.html","title":"Source: sources/cores/TInstancingFactory.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/cores/TInstancingFactory.js import { TAbstractFactory } from './TAbstractFactory' /** * @class * @classdesc The TInstancingFactory is a kind a factory that performe instanciation based on registred constructor. * @extends TAbstractFactory * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ class TInstancingFactory extends TAbstractFactory { /** * The ctor description * @param parameters */ constructor ( parameters = {} ) { const _parameters = { ...{}, ...parameters } super( _parameters ) } /** * * @param key * @param parameters * @returns {*} */ create ( key, ...parameters ) { super.create( key, ...parameters ) return new this.get( key )( ...parameters ) } } export { TInstancingFactory } × Search results Close "},"sources_input_devices_TKeyboardController.js.html":{"id":"sources_input_devices_TKeyboardController.js.html","title":"Source: sources/input_devices/TKeyboardController.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/input_devices/TKeyboardController.js /* eslint-env browser */ import { DefaultLogger as TLogger } from 'itee-core' import { Keys } from '../cores/TConstants' /** * @class * @classdesc TKeyboardController allow single source of thruth for keyboard state checking (based on Lee Stemkoski work). * See TKeyboardController.k object data below for names of keys whose state can be polled * * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * @example {@lang javascript} * // (1) create a global variable: * var keyboard = new TKeyboardController(); * * // (2) during main loop: * keyboard.update(); * * // (3) check state of keys: * keyboard.down(\"A\") -- true for one update cycle after key is pressed * keyboard.pressed(\"A\") -- true as long as key is being pressed * keyboard.up(\"A\") -- true for one update cycle after key is released */ class TKeyboardController { /** * * @param keyCode * @return {string} */ static keyName ( keyCode ) { return ( TKeyboardController.k[ keyCode ] !== null ) ? TKeyboardController.k[ keyCode ] : String.fromCharCode( keyCode ) } /** * * @param event */ static onKeyUp ( event ) { var key = TKeyboardController.keyName( event.keyCode ) if ( TKeyboardController.status[ key ] ) { TKeyboardController.status[ key ].pressed = false } } /** * * @param event */ static onKeyDown ( event ) { var key = TKeyboardController.keyName( event.keyCode ) if ( !TKeyboardController.status[ key ] ) { TKeyboardController.status[ key ] = { down: false, pressed: false, up: false, updatedPreviously: false } } } /** * * @param parameters */ // eslint-disable-next-line no-unused-vars constructor ( parameters = {} ) { // const _parameters = { // ...{}, // ...parameters // } // bind keyEvents document.addEventListener( 'keydown', TKeyboardController.onKeyDown, false ) document.addEventListener( 'keyup', TKeyboardController.onKeyUp, false ) } /** * */ update () { for ( var key in TKeyboardController.status ) { // insure that every keypress has \"down\" status exactly once if ( !TKeyboardController.status[ key ].updatedPreviously ) { TKeyboardController.status[ key ].down = true TKeyboardController.status[ key ].pressed = true TKeyboardController.status[ key ].updatedPreviously = true } else { // updated previously TKeyboardController.status[ key ].down = false } // key has been flagged as \"up\" since last update if ( TKeyboardController.status[ key ].up ) { delete TKeyboardController.status[ key ] continue // move on to next key } if ( !TKeyboardController.status[ key ].pressed ) // key released { TKeyboardController.status[ key ].up = true } } } /** * * @param keyName * @return {*} */ down ( keyName ) { return ( TKeyboardController.status[ keyName ] &amp;&amp; TKeyboardController.status[ keyName ].down ) } /** * * @param keyName * @return {*|pressed|boolean} */ pressed ( keyName ) { return ( TKeyboardController.status[ keyName ] &amp;&amp; TKeyboardController.status[ keyName ].pressed ) } /** * * @param keyName * @return {*} */ up ( keyName ) { return ( TKeyboardController.status[ keyName ] &amp;&amp; TKeyboardController.status[ keyName ].up ) } /** * */ debug () { var list = 'Keys active: ' for ( var arg in TKeyboardController.status ) { list += ' ' + arg } TLogger.log( list ) } } /** * * @type {Keys} */ TKeyboardController.k = Keys /** * * @type {{}} */ TKeyboardController.status = {} export { TKeyboardController } × Search results Close "},"sources_input_devices_TMouseController.js.html":{"id":"sources_input_devices_TMouseController.js.html","title":"Source: sources/input_devices/TMouseController.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/input_devices/TMouseController.js /* eslint-env browser */ /** * @class * @classdesc TMouseController allow single source of thruth for mouse state checking * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} * @example * (1) create a global variable: * var keyboard = new TKeyboardController(); * (2) during main loop: * keyboard.update(); * (3) check state of keys: * keyboard.down(\"A\") -- true for one update cycle after key is pressed * keyboard.pressed(\"A\") -- true as long as key is being pressed * keyboard.up(\"A\") -- true for one update cycle after key is released * * See TKeyboardController.k object data below for names of keys whose state can be polled */ class TMouseController { /** * @constructor */ constructor ( /*parameters = {}*/ ) { } } export { TMouseController } × Search results Close "},"sources_webapis_messages_WebAPIMessage.js.html":{"id":"sources_webapis_messages_WebAPIMessage.js.html","title":"Source: sources/webapis/messages/WebAPIMessage.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessage.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isEmptyString, isNotString } from 'itee-validators' import { v4 as uuidv4 } from 'uuid' /** * @typedef {Object} WebAPIMessageSerialized * @property {string} id * @property {string} type */ /** * @class * @classdesc The base class for all web api message */ class WebAPIMessage { /** * @static * @type {boolean} */ static isWebAPIMessage = true /** * * @param {string} type */ constructor ( type ) { this._id = uuidv4() this.type = type } /** * */ get id () { return this._id } /** * * @returns {string} */ get type () { return this._type } set type ( value ) { if ( isNotString( value ) ) { throw new ReferenceError( 'WebAPIMessage type cannot be null or undefined !' )} if ( isEmptyString( value ) ) { throw new TypeError( 'WebAPIMessage type cannot be an empty string !' )} this._type = value } /** * * @returns {{id: String, type: String}} */ toJSON () { return { id: this.id, type: this.type } } } export { WebAPIMessage } × Search results Close "},"sources_webapis_messages_WebAPIMessageData.js.html":{"id":"sources_webapis_messages_WebAPIMessageData.js.html","title":"Source: sources/webapis/messages/WebAPIMessageData.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageData.js import { WebAPIMessage } from './WebAPIMessage' /** * @typedef {Object} WebAPIMessageDataSerialized * @property {object} data * @instance */ /** * @class * @classdesc The web api message for serializable data transfert * @extends WebAPIMessage * @author [Tristan Valcke]{@link https://github.com/Itee} */ class WebAPIMessageData extends WebAPIMessage { /** * @static * @type {boolean} */ static isWebAPIMessageData = true /** * * @param data */ constructor ( data ) { super( '_data' ) this.data = data } /** * * @returns {{id: String, type: String, data: String}} */ toJSON () { const isPlainObject = this.data === Object( this.data ) return { ...super.toJSON(), ...{ data: isPlainObject ? JSON.stringify( this.data ) : this.data } } } } export { WebAPIMessageData } × Search results Close "},"sources_webapis_messages_WebAPIMessageEvent.js.html":{"id":"sources_webapis_messages_WebAPIMessageEvent.js.html","title":"Source: sources/webapis/messages/WebAPIMessageEvent.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageEvent.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ import { WebAPIMessage } from './WebAPIMessage' /** * @typedef {Object} WebAPIMessageDataSerialized * @property {object} data * @instance */ /** * @class * @classdesc The web api message for serializable data transfert * @extends WebAPIMessage * @author [Tristan Valcke]{@link https://github.com/Itee} */ class WebAPIMessageEvent extends WebAPIMessage { /** * @static * @type {boolean} */ static isWebAPIMessageEvent = true /** * * @param data */ constructor ( name, data ) { super( '_event' ) this.name = name this.data = data } /** * * @returns {{id: String, type: String, data: String}} */ toJSON () { const isPlainObject = this.data === Object( this.data ) return { ...super.toJSON(), ...{ name: this.name, data: isPlainObject ? JSON.stringify( this.data ) : this.data } } } } export { WebAPIMessageEvent } × Search results Close "},"sources_webapis_messages_WebAPIMessageError.js.html":{"id":"sources_webapis_messages_WebAPIMessageError.js.html","title":"Source: sources/webapis/messages/WebAPIMessageError.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageError.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isDefined, isNotDefined, isObject, isString } from 'itee-validators' import { WebAPIMessage } from './WebAPIMessage' class WebAPIMessageError extends WebAPIMessage { static isWebAPIMessageError = true // Utils static isError ( value ) { return value instanceof Error || isObject( value ) &amp;&amp; ( isDefined( value.name ) || isDefined( value.message ) || isDefined( value.stack ) ) } /** * * @param error */ constructor ( error ) { super( '_error' ) /** * The internal error to send * @type {{stack: string, name: string, message: string}} */ this.error = error } get error () { return this._error } set error ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( `Expect a string, or Error like. But got value of '${ typeof value }' type: ${ JSON.stringify( value, null, 4 ) }` ) } if ( isString( value ) ) { this._error = { name: 'UnknownError', message: value } } else if ( WebAPIMessageError.isError( value ) ) { this._error = { name: value.name, message: value.message, stack: value.stack } } else { throw new TypeError( `Expect a string, or Error like. But got value of '${ typeof value }' type: ${ JSON.stringify( value, null, 4 ) }` ) } } // Serialization /** * * @returns {{id: String, type: String, name: String, stack: String, message: String}} */ toJSON () { return { ...super.toJSON(), ...{ error: this.error } } } } export { WebAPIMessageError } × Search results Close "},"sources_webapis_messages_WebAPIMessageProgress.js.html":{"id":"sources_webapis_messages_WebAPIMessageProgress.js.html","title":"Source: sources/webapis/messages/WebAPIMessageProgress.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageProgress.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { WebAPIMessage } from './WebAPIMessage' /** * @class */ class WebAPIMessageProgress extends WebAPIMessage { static isWebAPIMessageProgress = true /** * * @param loaded * @param total */ constructor ( loaded = 0, total = 0 ) { super( '_progress' ) this.lengthComputable = false this.loaded = loaded this.total = total } /** * * @returns {*} */ get loaded () { return this._loaded } set loaded ( value ) { this._loaded = value this._checkIfLengthComputable() } /** * * @returns {*} */ get total () { return this._total } set total ( value ) { this._total = value this._checkIfLengthComputable() } /** * * @private */ _checkIfLengthComputable () { this.lengthComputable = false if ( this._total &gt; 0 &amp;&amp; this._total &lt; Number.MAX_SAFE_INTEGER &amp;&amp; this._loaded &gt;= 0 &amp;&amp; this._loaded &lt; Number.MAX_SAFE_INTEGER ) { this.lengthComputable = true } } /** * * @returns {{loaded: *, lengthComputable: boolean, total: *}} */ toJSON () { return { ...super.toJSON(), ...{ lengthComputable: this.lengthComputable, loaded: this.loaded, total: this.total } } } } export { WebAPIMessageProgress } × Search results Close "},"sources_webapis_messages_WebAPIMessageReady.js.html":{"id":"sources_webapis_messages_WebAPIMessageReady.js.html","title":"Source: sources/webapis/messages/WebAPIMessageReady.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageReady.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isNotBoolean, isNotDefined } from 'itee-validators' import { WebAPIMessage } from './WebAPIMessage' /** * @class * @classdesc Internal ready message to broadcast for prevent bad or dead messager */ class WebAPIMessageReady extends WebAPIMessage { /** * @static * @type {boolean} */ static isWebAPIMessageReady = true /** * */ constructor ( parameters = {} ) { super( '_ready' ) const _parameters = { ...{ isBind: false }, ...parameters } this.isBind = _parameters.isBind } get isBind () { return this._isBind } set isBind ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIMessageReady isBind cannot be null or undefined ! Expect a boolean value.' )} if ( isNotBoolean( value ) ) { throw new TypeError( 'WebAPIMessageReady isBind expect a boolean value.' )} this._isBind = value } /** * * @returns {{id: String, type: String, isBind: Boolean}} */ toJSON () { return { ...super.toJSON(), ...{ isBind: this.isBind } } } } export { WebAPIMessageReady } × Search results Close "},"sources_webapis_messages_WebAPIMessageRequest.js.html":{"id":"sources_webapis_messages_WebAPIMessageRequest.js.html","title":"Source: sources/webapis/messages/WebAPIMessageRequest.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageRequest.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isBlankString, isEmptyString, isNotArray, isNotDefined, isNotString } from 'itee-validators' import { WebAPIMessage } from './WebAPIMessage' /** * @class * @classdesc Special message to request a distant method and expect result. */ class WebAPIMessageRequest extends WebAPIMessage { /** * @static * @type {boolean} */ static isWebAPIMessageRequest = true /** * * @param method * @param parameters */ constructor ( method, parameters = [] ) { super( '_request' ) this.method = method this.parameters = parameters } /** * * @returns {String} */ get method () { return this._method } /** * * @param value {String} */ set method ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'Expect a string that represent a api method name, but got undefined or null value.' ) } if ( isNotString( value ) ) { throw new TypeError( `Expect a string that represent a api method name, but got value of '${ typeof value }' type: ${ JSON.stringify( value, null, 4 ) }` ) } if ( isEmptyString( value ) || isBlankString( value ) ) { throw new TypeError( 'Expect a string that represent a api method name, but got empty or blank string.' ) } this._method = value } /** * * @returns {Array&lt;*&gt;} */ get parameters () { return this._parameters } /** * * @param value {Array&lt;*&gt;} */ set parameters ( value ) { if ( isNotArray( value ) ) { throw new TypeError( `Expect an array of parameters, but got value of '${ typeof value }' type: ${ JSON.stringify( value, null, 4 ) }` ) } this._parameters = value } /** * * @returns {{method: String, parameters: Array&lt;*&gt;}} */ toJSON () { return { ...super.toJSON(), ...{ method: this.method, parameters: this.parameters } } } } export { WebAPIMessageRequest } × Search results Close "},"sources_webapis_messages_WebAPIMessageResponse.js.html":{"id":"sources_webapis_messages_WebAPIMessageResponse.js.html","title":"Source: sources/webapis/messages/WebAPIMessageResponse.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/messages/WebAPIMessageResponse.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ import { isNull, isUndefined } from 'itee-validators' import { WebAPIMessage } from './WebAPIMessage' /** * @class * @classdesc The message response to a message request */ class WebAPIMessageResponse extends WebAPIMessage { /** * * @type {boolean} */ static isWebApiMessageResponse = true /** * * @param request * @param result */ constructor ( request, result ) { super( '_response' ) this.request = request this.result = result } /** * * @returns {*} */ get request () { return this._request } set request ( value ) { if ( isNull( value ) ) { return } if ( isUndefined( value ) ) { return } this._request = value } /** * * @returns {*} */ get result () { return this._result } set result ( value ) { this._result = value } /** * * @returns {{result: *, request: *}} */ toJSON () { return { ...super.toJSON(), ...{ request: this.request, result: this.result } } } } export { WebAPIMessageResponse } × Search results Close "},"sources_webapis_WebAPIOrigin.js.html":{"id":"sources_webapis_WebAPIOrigin.js.html","title":"Source: sources/webapis/WebAPIOrigin.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/webapis/WebAPIOrigin.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause} */ import { isDefined, isEmptyArray, isEmptyString, isNotArray, isNotBoolean, isNotDefined, isNotString } from 'itee-validators' import { v4 as uuidv4 } from 'uuid' class WebAPIOrigin { constructor ( parameters = {} ) { const _parameters = { ...{ uri: '', allowedMethods: [ '*' ], window: null, messageQueue: [], isReachable: true, isReady: false }, ...parameters, ...{ id: isDefined( parameters.id ) ? parameters.id : uuidv4() } } this._id = _parameters.id this.uri = _parameters.uri this.allowedMethods = _parameters.allowedMethods // Todo: use Set instead this.window = _parameters.window this.isReachable = _parameters.isReachable this.isReady = _parameters.isReady this.messageQueue = _parameters.messageQueue } /** * */ get id () { return this._id } get uri () { return this._uri } set uri ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIOrigin uri cannot be null or undefined !' )} if ( isNotString( value ) ) { throw new TypeError( `WebAPIOrigin uri expect to be a string. Got '${ typeof value }' !` )} if ( isEmptyString( value ) ) { throw new RangeError( 'WebAPIOrigin uri cannot be an empty string !' )} this._uri = value } get allowedMethods () { return this._allowedMethods } set allowedMethods ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIOrigin methods cannot be null or undefined ! Expect an array of method name.' )} if ( isNotArray( value ) ) { throw new TypeError( `WebAPIOrigin methods expect to be an array of method name (string).Got '${ typeof value }' !` )} if ( isEmptyArray( value ) ) { throw new RangeError( 'WebAPIOrigin methods cannot be an empty array ! Expect an array of method name.' )} this._allowedMethods = value } get window () { return this._window } set window ( value ) { // if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIOrigin window cannot be null or undefined ! Expect a Window object.' )} // if ( isDefined( value ) &amp;&amp; !( value instanceof Window ) ) { throw new TypeError( `WebAPIOrigin window expect to be a Window. Got '${ typeof value }' !` )} this._window = value } get isReady () { return this._isReady } set isReady ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIOrigin isReady cannot be null or undefined !' )} if ( isNotBoolean( value ) ) { throw new TypeError( `WebAPIOrigin isReady expect a Boolean. Got '${ typeof value }' !` )} this._isReady = value } get isReachable () { return this._isReachable } set isReachable ( value ) { if ( isNotDefined( value ) ) { throw new ReferenceError( 'WebAPIOrigin isReachable cannot be null or undefined !' )} if ( isNotBoolean( value ) ) { throw new TypeError( `WebAPIOrigin isReachable expect a Boolean. Got '${ typeof value }' !` )} this._isReachable = value } get messageQueue () { return this._messageQueue } set messageQueue ( value ) { this._messageQueue = value } setUri ( value ) { this.uri = value return this } setAllowedMethods ( arrayOfMethodNames ) { this.allowedMethods = arrayOfMethodNames return this } addAllowedMethod ( methodName ) { if ( !this.allowedMethods.includes( methodName ) ) { this.allowedMethods.push( methodName ) } return this } removeAllowedMethod ( methodName ) { const index = this.allowedMethods.indexOf( methodName ) if ( index &gt;= 0 ) { this.allowedMethods.slice( index, methodName ) } return this } setWindow ( value ) { this.window = value return this } setReadyState ( value ) { this.isReady = value return this } setReachableState ( value ) { this.isReachable = value return this } } export { WebAPIOrigin } × Search results Close "},"sources_workers_messages_WorkerMessage.js.html":{"id":"sources_workers_messages_WorkerMessage.js.html","title":"Source: sources/workers/messages/WorkerMessage.js","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Source: sources/workers/messages/WorkerMessage.js /** * @author [Tristan Valcke]{@link https://github.com/Itee} */ class WorkerMessage { static isWorkerMessage = true constructor ( type ) { this.type = type } get type () { return this._type } set type ( type ) { this._type = type } toJSON () { return { type: this.type } } } export { WorkerMessage } × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Global Members &lt;constant&gt; Byte :Enum Byte allow semantic meaning of quantity of bytes based on power of two. Type: Enum Properties: Name Type Default Description One Number 1 Octet Two Number 2 Doublet Four Number 4 Quadlet Height Number 8 Octlet Source: sources/loaders/TBinaryReader.js, line 26 &lt;constant&gt; Endianness :Enum Endianness enum allow semantic usage. Type: Enum Properties: Name Type Default Description Little Boolean true The Little endianess Big Number false The Big endianess Source: sources/loaders/TBinaryReader.js, line 12 &lt;constant&gt; Enum :object A freezed javascript object used like an enum. Type: object Source: sources/cores/TConstants.js, line 1 Example var Meal = toEnum( { Food: 'Tartiflette', Drink: 'Saint-Emilion', Dessert: 'Mousse au chocolat' } ) if( Foo.includes('Tartiflette') { // Happy } var myDrink = 'coke' if( myDrink === Meal.Drink ) { } else { // Your life is a pain } var MealTypes = Meal.types // ['Tartiflette', 'Saint-Emilion', 'Mousse au chocolat' ] &lt;constant&gt; FileFormat :Enum The FileFormat Enum give some commonly used file format in 3d context Type: Enum Properties: Name Type Default Description Asc String \"asc\" The ascii file format Dae String \"dae\" The dae file format Dbf String \"dbf\" The dbf file format Fbx String \"fbx\" The fbx file format Mtl String \"mtl\" The material file format Json String \"json\" The json file format Obj String \"obj\" The object file format Shp String \"shp\" The shape file format Stl String \"stl\" The stereolithographie file format Source: sources/cores/TConstants.js, line 29 &lt;constant&gt; HttpStatusCode :Enum HttpStatusCode contains all http status code available to check and process correctly server response. Type: Enum Properties: Name Type Default Description Continue number 100 Waiting for the continuation of the request. SwitchingProtocols number 101 The requester has asked the server to switch protocols and the server has agreed to do so. Processing number 102 WebDAV: Processing in progress (prevents the client from exceeding the limited waiting time). Ok number 200 Query successfully processed. Created number 201 Query successfully processed and a document was created. Accepted number 202 Query processed, but without guarantee of result. NonAuthoritativeInformation number 203 Information returned, but generated by an uncertified source. NoContent number 204 Query successfully processed but no information returned. ResetContent number 205 Query successfully processed, the current page can be cleared. PartialContent number 206 Only part of the resource has been transmitted. MultiStatus number 207 WebDAV: Multiple Response. AlreadyReported number 208 WebDAV: The document was previously sent to this collection. ContentDifferent number 210 WebDAV: The copy of the client-side resource differs from that of the server (content or properties). IMUsed number 226 The server has completed the request for the resource, and the response is a representation of the result of one or more instance manipulations applied to the current instance. MultipleChoices number 300 The requested URI refers to multiple resources. MovedPermanently number 301 Document moved permanently. Found number 302 Document moved temporarily. SeeOther number 303 The answer to this query is elsewhere. NotModified number 304 Document not modified since the last request. UseProxy number 305 The request must be re-addressed to the proxy. Unused number 306 Code used by an older version of RFC 2616, now reserved. TemporaryRedirect number 307 The request must be temporarily redirected to the specified URI. PermanentRedirect number 308 The request must be redirected permanently to the specified URI. TooManyRedirects number 310 The request must be redirected too many times, or is the victim of a redirection loop. BadRequest number 400 The syntax of the query is wrong. Unauthorized number 401 Authentication is required to access the resource. PaymentRequired number 402 Payment required to access the resource. Forbidden number 403 The server understood the request, but refuses to execute it. Unlike error 401, authenticating will not make any difference. On servers where authentication is required, this usually means that authentication has been accepted but access rights do not allow the client to access the resource. NotFound number 404 Resource not found. MethodNotAllowed number 405 Unauthorized request method. NotAcceptable number 406 The requested resource is not available in a format that would respect the \"Accept\" headers of the request. ProxyAuthenticationRequired number 407 Access to the authorized resource by identification with the proxy. RequestTimeOut number 408 Waiting time for an elapsed client request. Conflict number 409 The request can not be processed in the current state. Gone number 410 The resource is no longer available and no redirection address is known. LengthRequired number 411 The length of the request has not been specified. PreconditionFailed number 412 Preconditions sent by the query unverified. RequestEntityTooLarge number 413 Abandoned processing due to excessive request RequestURITooLong number 414 URI too long UnsupportedMediaType number 415 Unsupported query format for a given method and resource. RequestRangeUnsatisfiable number 416 Invalid \"range\" request header fields. ExpectationFailed number 417 Expected behavior and defined in the header of the unsatisfactory request. ImATeapot number 418 \"I am a teapot\". This code is defined in RFC 2324 dated April 1, 1998, Hyper Text Coffee Pot Control Protocol. BadMapping number 421 The request was sent to a server that is not able to produce a response (for example, because a connection has been reused). UnprocessableEntity number 422 WebDAV: The entity provided with the request is incomprehensible or incomplete. Locked number 423 WebDAV: The operation can not take place because the resource is locked. MethodFailure number 424 WebDAV: A method of the transaction failed. UnorderedCollection number 425 WebDAV RFC 3648. This code is defined in the WebDAV Advanced Collections Protocol draft , but is absent from the Web Distributed Authoring and Versioning (WebDAV) Ordered Collections Protocol. UpgradeRequired number 426 RFC 2817 The client should change protocol, for example to TLS / 1.0 . PreconditionRequired number 428 RFC 6585 The request must be conditional. TooManyRequests number 429 RFC 6585 The client has issued too many requests within a given time. RequestHeaderFieldsTooLarge number 431 RFC 6585 HTTP headers issued exceed the maximum size allowed by the server. NoResponse number 444 Indicates that the server did not return any information to the client and closed the connection. RetryWith number 449 Code defined by Microsoft . The request should be returned after performing an action. BlockedByWindowsParentalControls number 450 Code defined by Microsoft. This error is generated when Windows Parental Control tools are enabled and block access to the page. UnavailableForLegalReasons number 451 This error code indicates that the requested resource is inaccessible for legal reasons UnrecoverableError number 456 WebDAV: Fatal error. SSLCertificateError number 495 An extension of the 400 Bad Request error, used when the client provided an invalid certificate. SSLCertificateRequired number 496 An extension of the 400 Bad Request error, used when a required client certificate is not provided. HTTPRequestSentToHTTPSPort number 497 An extension of the 400 Bad Request error, used when the client sends an HTTP request to port 443 normally intended for HTTPS requests. ClientClosedRequest number 499 The client closed the connection before receiving the response. This error occurs when the processing is too long on the server side. InternalServerError number 500 Internal server error. NotImplemented number 501 Functionality claimed not supported by the server. BadGateway number 502 Wrong response sent to an intermediate server by another server. ServiceUnavailable number 503 Service temporarily unavailable or under maintenance. GatewayTimeOut number 504 Waiting time for a response from a server to an intermediate server that has elapsed. HTTPVersionNotSupported number 505 HTTP version not managed by the server. VariantAlsoNegotiates number 506 RFC 2295: Negotiation Error. Transparent content negociation. InsufficientStorage number 507 WebDAV: Insufficient space to modify properties or build the collection. LoopDetected number 508 WebDAV: Loop in a Resource Match BandwidthLimitExceeded number 509 Used by many servers to indicate a quota overrun. NotExtended number 510 RFC 2774: The request does not respect the policy for accessing extended HTTP resources. NetworkAuthenticationRequired number 511 RFC 6585: The client must authenticate to access the network. Used by captive portals to redirect clients to the authentication page. UnknownError number 520 Error 520 is used as a wildcard response when the origin server returns an unexpected result. WebServerIsDown number 521 The server has refused the connection from Cloudflare. ConnectionTimedOut number 522 Cloudflare could not negotiate a TCP handshake with the origin server. OriginIsUnreachable number 523 Cloudflare failed to reach the origin server. This can occur if DNS server name resolution fails. ATimeoutOccured number 524 Cloudflare established a TCP connection with the origin server but did not receive an HTTP response before the login timeout. SSLHandshakeFailed number 525 Cloudflare could not negotiate SSL / TLS handshake with the origin server. InvalidSSLCertificate number 526 Cloudflare could not validate the SSL certificate presented by the origin server. RailgunError number 527 Error 527 indicates that the request has timed out or failed after the WAN connection was established. Source: sources/cores/TConstants.js, line 57 See: https://en.wikipedia.org/wiki/List_of_HTTP_status_codes for further information. &lt;constant&gt; HttpVerb :Enum HttpVerb contains the CRUD actions with corresponding http verb to request an itee server. Type: Enum Properties: Name Type Default Description Create String \"PUT\" Corresponding to the create http verb for an itee server, namely \"PUT\". Read String \"POST\" Corresponding to the read http verb for an itee server, namely \"POST\". Update String \"PATCH\" Corresponding to the update http verb for an itee server, namely \"PATCH\". Delete String \"DELETE\" Corresponding to the delete http verb for an itee server, namely \"DELETE\". Source: sources/cores/TConstants.js, line 242 See: https://en.wikipedia.org/wiki/Create,_read,_update_and_delete for further information. &lt;constant&gt; Keys :Enum Keys contains common keyboard key values, this allow to write semantic code instead of integer when dealing with key codes. Type: Enum Properties: Name Type Default Description BACKSPACE Number 8 The backspace key code TAB Number 9 The tab key code ENTER Number 13 The enter key code Etc... Number * All the rest Source: sources/cores/TConstants.js, line 261 &lt;constant&gt; MimeType :Enum Todo... Type: Enum Properties: Name Type Description ... Number Source: sources/cores/TConstants.js, line 374 &lt;constant&gt; Mouse :Enum This Mouse Enum expose 4 common state of mouse button values (Wheel, Left, Middle and Right), this allow to write semantic code instead of integer when dealing with mouse button codes. Type: Enum Properties: Name Type Default Description Wheel Number -1 The enter key code Left Number 0 The enter key code Middle Number 1 The enter key code Right Number 2 The enter key code Source: sources/cores/TConstants.js, line 384 &lt;constant&gt; RequestType :ReadonlyArray.&lt;unknown&gt; Type: ReadonlyArray.&lt;unknown&gt; Source: sources/managers/TDataBaseManager.js, line 78 &lt;constant&gt; ResponseType :Enum ResponseType allow to filter wich type of response is recieved from the server. Type: Enum Properties: Name Type Default Description ArrayBuffer String \"arraybuffer\" The \"arraybuffer\" server response type. Blob String \"blob\" The \"blob\" server response type. Document String \"document\" The \"document\" server response type. Json String \"json\" The \"json\" server response type. DOMString String \"text\" The \"text\" server response type. Default String \"text\" The \"\" server response type ( equivalent to DOMString ). Source: sources/cores/TConstants.js, line 402 See: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType for further information. &lt;constant&gt; TIdFactoryType :ReadonlyArray.&lt;unknown&gt; Type: ReadonlyArray.&lt;unknown&gt; Deprecated: Yes Source: sources/utils/TIdFactory.js, line 13 Type Definitions AllowedOrigin A POJO object containg datas about a distant source to allow Type: Object Properties: Name Type Description id string The id to reference this origin as a human readable string uri string The uri of the origin to allow methods Array.&lt;String&gt; An array of methods names that are allowed for this origins. To allow all methods use '*', in case no methods string were provide the origin won't be able to do anything. Source: sources/webapis/WebAPI.js, line 27 WebAPIMessageDataSerialized Type: Object Properties: Name Type Description data object Source: sources/webapis/messages/WebAPIMessageData.js, line 3 WebAPIMessageDataSerialized Type: Object Properties: Name Type Description data object Source: sources/webapis/messages/WebAPIMessageEvent.js, line 8 WebAPIMessageSerialized Type: Object Properties: Name Type Description id string type string Source: sources/webapis/messages/WebAPIMessage.js, line 11 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Modules Classes AbstractWorker IdGenerator TAbstractFactory TBinaryReader TBinaryWriter TCloningFactory TDataBaseManager TDataBaseManager TIdFactory TInstancingFactory TKeyboardController TMouseController TStore WebAPI WebAPIMessage WebAPIMessageData WebAPIMessageError WebAPIMessageEvent WebAPIMessageProgress WebAPIMessageReady WebAPIMessageRequest WebAPIMessageResponse WorkerMessage × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Classes Classes AbstractWorker IdGenerator TAbstractFactory TBinaryReader TBinaryWriter TCloningFactory TDataBaseManager TDataBaseManager TIdFactory TInstancingFactory TKeyboardController TMouseController TStore WebAPI WebAPIMessage WebAPIMessageData WebAPIMessageError WebAPIMessageEvent WebAPIMessageProgress WebAPIMessageReady WebAPIMessageRequest WebAPIMessageResponse WorkerMessage × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType [Itee Client] The itee client is the end user part of the itee solution predicted for running WebGL 3d content. It allow to make fast, and light call to itee server counter part to create/read/update/delete data from webgl server. How to install From npm: npm install itee-client If you want to build the repository from source follow these instructions: git clone https://github.com/Itee/itee-client.git npm install npm run build then copy/paste the builded module you need from builds folder. How to use At begin was RTFM ! In case you have clone the repository you could also auto-generate the library documentation using: npm run doc License (BSD-3-Clause) Copyright (c) 2015-Present, Itee, Valcke Tristan https://github.com/Itee. All rights reserved. Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. Neither the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. You should have received a copy of the BSD-3-Clause along with this program. If not, see https://opensource.org/licenses/BSD-3-Clause. Index sources/itee-client.js The main entry point for Itee-Client, it contains all exports of the library Author: Tristan Valcke License: BSD-3-Clause Source: sources/itee-client.js, line 1 × Search results Close "},"AbstractWorker.html":{"id":"AbstractWorker.html","title":"Class: AbstractWorker","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: AbstractWorker AbstractWorker Base worker interface that allow messaging between callee and caller new AbstractWorker() Source: sources/workers/AbstractWorker.js, line 21 Methods &lt;private&gt; _invoke(name, parameters) Parameters: Name Type Description name parameters Source: sources/workers/AbstractWorker.js, line 129 onMessage(message) Parameters: Name Type Description message Source: sources/workers/AbstractWorker.js, line 73 Returns: Type boolean postData(type, arrayBuffer) Parameters: Name Type Description type arrayBuffer Source: sources/workers/AbstractWorker.js, line 56 postError(error) Parameters: Name Type Description error Source: sources/workers/AbstractWorker.js, line 41 postProgress(progress) Parameters: Name Type Description progress Source: sources/workers/AbstractWorker.js, line 27 × Search results Close "},"IdGenerator.html":{"id":"IdGenerator.html","title":"Class: IdGenerator","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: IdGenerator IdGenerator new IdGenerator() Deprecated: Yes Source: sources/managers/TDataBaseManager.js, line 59 × Search results Close "},"module-Config-EsLint.html":{"id":"module-Config-EsLint.html","title":"Module: Config-EsLint","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Config-EsLint The configuration file of the eslint plugin Author: Tristan Valcke License: BSD-3-Clause Source: configs/eslint.conf.js, line 1 Methods &lt;generator, inner&gt; CreateEslintConfiguration() Will create an appropriate configuration object for eslint Source: configs/eslint.conf.js, line 16 Returns: The eslint configuration Type object × Search results Close "},"module-Config-JsDoc.html":{"id":"module-Config-JsDoc.html","title":"Module: Config-JsDoc","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Config-JsDoc The configuration file of the jsdoc plugin Author: Tristan Valcke License: BSD-3-Clause Source: configs/jsdoc.conf.js, line 1 Methods &lt;generator, inner&gt; CreateJsdocConfiguration() Will create an appropriate configuration object for jsdoc Source: configs/jsdoc.conf.js, line 15 Returns: The jsdoc configuration Type object × Search results Close "},"module-Config-Karma-Benchs.html":{"id":"module-Config-Karma-Benchs.html","title":"Module: Config-Karma-Benchs","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Config-Karma-Benchs The file manage the karma configuration for run benchmarks that are under `tests/benchmarks` folder Author: Tristan Valcke License: BSD-3-Clause Source: configs/karma.benchs.conf.js, line 1 Methods &lt;generator, inner&gt; CreateKarmaBenchmarkConfiguration(config) Will assign an appropriate configuration object about benchmarks for karma. Parameters: Name Type Description config object The karma configuration object to extend Source: configs/karma.benchs.conf.js, line 17 × Search results Close "},"module-Config-Karma-Units.html":{"id":"module-Config-Karma-Units.html","title":"Module: Config-Karma-Units","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Config-Karma-Units The file manage the karma configuration for run units tests that are under `tests/units` folder Author: Tristan Valcke License: BSD-3-Clause Source: configs/karma.units.conf.js, line 1 Methods &lt;generator, inner&gt; CreateKarmaUnitsConfiguration(config) Will assign an appropriate configuration object about unit tests for karma. Parameters: Name Type Description config object The karma configuration object to extend Source: configs/karma.units.conf.js, line 17 × Search results Close "},"module-Config-Rollup.html":{"id":"module-Config-Rollup.html","title":"Module: Config-Rollup","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Config-Rollup The file manage the rollup configuration for build the library using differents arguments. It allow to build with two type of environment (dev and prod), and differents output format. Use npm run help to display all available build options. Author: Tristan Valcke License: BSD-3-Clause Source: configs/rollup.conf.js, line 1 Requires path rollup-plugin-terser Methods &lt;generator, inner&gt; CreateRollupConfigs(options) Will create an appropriate configuration object for rollup, related to the given arguments. Parameters: Name Type Description options Source: configs/rollup.conf.js, line 68 Returns: An array of rollup configuration Type Array.&lt;json&gt; × Search results Close "},"module-configs_Rollup-Test.html":{"id":"module-configs_Rollup-Test.html","title":"Module: configs/Rollup-Test","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: configs/Rollup-Test The file manage the rollup configuration for build tests Author: Tristan Valcke License: BSD-3-Clause Source: configs/rollup.benchs.conf.js, line 1 Methods &lt;generator, inner&gt; CreateBenchmarksRollupConfigs() Will create an appropriate configuration object for rollup, related to the given arguments. Source: configs/rollup.benchs.conf.js, line 17 Returns: An array of rollup configuration Type Array.&lt;json&gt; &lt;generator, inner&gt; CreateUnitsRollupConfigs() Will create an appropriate configuration object for rollup, related to the given arguments. Source: configs/rollup.units.conf.js, line 17 Returns: An array of rollup configuration Type Array.&lt;json&gt; Module: configs/Rollup-Test The file manage the rollup configuration for build tests Author: Tristan Valcke License: BSD-3-Clause Source: configs/rollup.units.conf.js, line 1 Methods &lt;generator, inner&gt; CreateBenchmarksRollupConfigs() Will create an appropriate configuration object for rollup, related to the given arguments. Source: configs/rollup.benchs.conf.js, line 17 Returns: An array of rollup configuration Type Array.&lt;json&gt; &lt;generator, inner&gt; CreateUnitsRollupConfigs() Will create an appropriate configuration object for rollup, related to the given arguments. Source: configs/rollup.units.conf.js, line 17 Returns: An array of rollup configuration Type Array.&lt;json&gt; × Search results Close "},"module-InputDevice.html":{"id":"module-InputDevice.html","title":"Module: InputDevice","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: InputDevice Intermediary export file for cores. Export Constants, TStore, TAbstractFactory, TCloningFactory, and TInstancingFactory Author: Tristan Valcke License: BSD-3-Clause Source: sources/cores/_cores.js, line 1 Module: InputDevice Intermediary export file for input devices stuff. Export TKeyboardController and TMouseController Author: Tristan Valcke License: BSD-3-Clause Source: sources/input_devices/_inputDevices.js, line 1 × Search results Close "},"module-Loaders.html":{"id":"module-Loaders.html","title":"Module: Loaders","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Loaders Intermediary export file for loaders. Export TBinaryReader, Endianness, and Byte Author: Tristan Valcke License: BSD-3-Clause Source: sources/loaders/_loaders.js, line 1 × Search results Close "},"module-Managers.html":{"id":"module-Managers.html","title":"Module: Managers","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Managers Intermediary export file for client manager. Export TDataBaseManager. Author: Tristan Valcke License: BSD-3-Clause Source: sources/utils/_utils.js, line 1 Module: Managers Intermediary export file for client manager. Export TDataBaseManager. Author: Tristan Valcke License: BSD-3-Clause Source: sources/managers/_managers.js, line 1 × Search results Close "},"module-WebAPI.html":{"id":"module-WebAPI.html","title":"Module: WebAPI","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: WebAPI Intermediary export file for webapi. Export AbstractWebAPI and all web api messages from WebAPIMessages. Author: Tristan Valcke License: BSD-3-Clause Source: sources/webapis/_webapis.js, line 1 × Search results Close "},"module-WebAPI_Messages.html":{"id":"module-WebAPI_Messages.html","title":"Module: WebAPI/Messages","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: WebAPI/Messages Intermediary export file for webapi messages. Export WebAPIMessage, WebAPIMessageData, WebAPIMessageError, WebAPIMessageProgress, WebAPIMessageReady, WebAPIMessageRequest, and WebAPIMessageResponse. Author: Tristan Valcke License: BSD-3-Clause Source: sources/webapis/messages/_messages.js, line 1 × Search results Close "},"module-Workers.html":{"id":"module-Workers.html","title":"Module: Workers","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Workers Intermediary export file for workers. Export AbstractWorker and all worker messages from Worker/Messages. Author: Tristan Valcke License: BSD-3-Clause Source: sources/workers/_workers.js, line 1 × Search results Close "},"module-Workers_Messages.html":{"id":"module-Workers_Messages.html","title":"Module: Workers/Messages","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Module: Workers/Messages Intermediary export file for worker messages. Export WorkerMessage, WorkerMessageData, WorkerMessageError, WorkerMessageMethodCall, and WorkerMessageProgress. Author: Tristan Valcke License: BSD-3-Clause Source: sources/workers/messages/_messages.js, line 1 × Search results Close "},"TAbstractFactory.html":{"id":"TAbstractFactory.html","title":"Class: TAbstractFactory","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TAbstractFactory TAbstractFactory The abstract class to create factory &lt;abstract&gt; new TAbstractFactory(parameters) Parameters: Name Type Description parameters Author: Tristan Valcke License: BSD-3-Clause Source: sources/cores/TAbstractFactory.js, line 12 Extends TStore Members allowOverride Inherited From: TStore#allowOverride Overrides: TStore#allowOverride Source: sources/cores/TStore.js, line 104 collection Inherited From: TStore#collection Overrides: TStore#collection Source: sources/cores/TStore.js, line 83 keys Inherited From: TStore#keys Overrides: TStore#keys Source: sources/cores/TStore.js, line 165 keyValidators Inherited From: TStore#keyValidators Overrides: TStore#keyValidators Source: sources/cores/TStore.js, line 125 values Inherited From: TStore#values Overrides: TStore#values Source: sources/cores/TStore.js, line 174 valueValidators Inherited From: TStore#valueValidators Overrides: TStore#valueValidators Source: sources/cores/TStore.js, line 146 Methods add(key, value, force) Allow to add new key value pair, the key cannot be null, undefined, or an empty string. In case the key already exist, the value will be overwritten if force params is true or this allow overriding else it throw an TypeError. Parameters: Name Type Default Description key * value * force Boolean false Inherited From: TStore#add Overrides: TStore#add Source: sources/cores/TStore.js, line 237 Returns: The current instance (this) Type TStore clear() Clear the cache and reset collection to an empty object. Inherited From: TStore#clear Overrides: TStore#clear Source: sources/cores/TStore.js, line 293 Returns: The current instance (this) Type TStore contain(key) Parameters: Name Type Description key Inherited From: TStore#contain Overrides: TStore#contain Source: sources/cores/TStore.js, line 257 Returns: Type boolean &lt;abstract&gt; create(key, parameters) The create factory method. It allow to automate Class creation by constructor key, and parameters to pass for initialized the instance. Parameters: Name Type Argument Description key * parameters &lt;repeatable&gt; Source: sources/cores/TAbstractFactory.js, line 34 get(key) Return the value associated to the key. Parameters: Name Type Description key Inherited From: TStore#get Overrides: TStore#get Source: sources/cores/TStore.js, line 269 Returns: Type * remove(key) Remove to value from the cache. Does nothing if the key does not exist. Parameters: Name Type Description key Inherited From: TStore#remove Overrides: TStore#remove Source: sources/cores/TStore.js, line 281 Returns: The current instance (this) Type TStore setAllowOverride(value) Parameters: Name Type Description value Inherited From: TStore#setAllowOverride Overrides: TStore#setAllowOverride Source: sources/cores/TStore.js, line 196 Returns: The current instance (this) Type TStore setCollection(value) Parameters: Name Type Description value Inherited From: TStore#setCollection Overrides: TStore#setCollection Source: sources/cores/TStore.js, line 184 Returns: The current instance (this) Type TStore setKeyValidators(value) Parameters: Name Type Description value Inherited From: TStore#setKeyValidators Overrides: TStore#setKeyValidators Source: sources/cores/TStore.js, line 208 Returns: The current instance (this) Type TStore setValueValidators(value) Parameters: Name Type Description value Inherited From: TStore#setValueValidators Overrides: TStore#setValueValidators Source: sources/cores/TStore.js, line 220 Returns: The current instance (this) Type TStore × Search results Close "},"TBinaryReader.html":{"id":"TBinaryReader.html","title":"Class: TBinaryReader","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TBinaryReader TBinaryReader TBinaryReader is design to perform fast binary read/write new TBinaryReader( [parameters]) Parameters: Name Type Argument Description parameters &lt;optional&gt; Properties Name Type Description buffer offset length endianness Author: Tristan Valcke License: BSD-3-Clause Source: sources/loaders/TBinaryReader.js, line 52 Members buffer Source: sources/loaders/TBinaryReader.js, line 94 endianness Source: sources/loaders/TBinaryReader.js, line 165 length Source: sources/loaders/TBinaryReader.js, line 146 offset Source: sources/loaders/TBinaryReader.js, line 119 Methods &lt;private&gt; _getAndUpdateOffsetBy(increment) Parameters: Name Type Description increment Source: sources/loaders/TBinaryReader.js, line 240 Returns: Type * &lt;private&gt; _updateDataView() Source: sources/loaders/TBinaryReader.js, line 253 getArrayBuffer(size) Parameters: Name Type Description size Source: sources/loaders/TBinaryReader.js, line 1016 Returns: Type ArrayBuffer getBoolean() Source: sources/loaders/TBinaryReader.js, line 507 Returns: Type boolean getBooleanArray(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 519 Returns: Type Array getChar() Source: sources/loaders/TBinaryReader.js, line 982 Returns: Type string getFloat32() Source: sources/loaders/TBinaryReader.js, line 910 Returns: Type number getFloat32Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 923 Returns: Type Array getFloat64() Source: sources/loaders/TBinaryReader.js, line 946 Returns: Type number getFloat64Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 959 Returns: Type Array getInt8() Source: sources/loaders/TBinaryReader.js, line 542 Returns: Type number getInt8Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 555 Returns: Type Array getInt16() Source: sources/loaders/TBinaryReader.js, line 614 Returns: Type number getInt16Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 627 Returns: Type Array getInt32() Source: sources/loaders/TBinaryReader.js, line 686 Returns: Type number getInt32Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 699 Returns: Type Array getInt64() Source: sources/loaders/TBinaryReader.js, line 758 Returns: Type number getInt64Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 822 Returns: Type Array getString(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 994 Returns: Type string getUint8() Source: sources/loaders/TBinaryReader.js, line 578 Returns: Type number getUint8Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 591 Returns: Type Array getUint16() Source: sources/loaders/TBinaryReader.js, line 650 Returns: Type number getUint16Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 663 Returns: Type Array getUint32() Source: sources/loaders/TBinaryReader.js, line 722 Returns: Type number getUint32Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 735 Returns: Type Array getUint64() Source: sources/loaders/TBinaryReader.js, line 845 Returns: Type number getUint64Array(length, moveNext) Parameters: Name Type Default Description length moveNext true Source: sources/loaders/TBinaryReader.js, line 887 Returns: Type Array isEndOfFile() Source: sources/loaders/TBinaryReader.js, line 263 Returns: Type boolean setBuffer(buffer, offset, length) Parameters: Name Type Description buffer offset length Source: sources/loaders/TBinaryReader.js, line 188 Returns: Type TBinaryReader setEndianness(endianness) Parameters: Name Type Description endianness Source: sources/loaders/TBinaryReader.js, line 227 Returns: Type TBinaryReader setLength(value) Parameters: Name Type Description value Source: sources/loaders/TBinaryReader.js, line 215 Returns: Type TBinaryReader setOffset(value) Parameters: Name Type Description value Source: sources/loaders/TBinaryReader.js, line 203 Returns: Type TBinaryReader skipOffsetOf(nBytes) Parameters: Name Type Description nBytes Source: sources/loaders/TBinaryReader.js, line 497 skipOffsetTo(offset) Parameters: Name Type Description offset Source: sources/loaders/TBinaryReader.js, line 487 × Search results Close "},"TBinaryWriter.html":{"id":"TBinaryWriter.html","title":"Class: TBinaryWriter","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TBinaryWriter TBinaryWriter new TBinaryWriter() Author: Tristan Valcke License: BSD-3-Clause Source: sources/loaders/TBinaryWriter.js, line 18 Members buffer Source: sources/loaders/TBinaryWriter.js, line 24 endianness Source: sources/loaders/TBinaryWriter.js, line 95 length Source: sources/loaders/TBinaryWriter.js, line 72 offset Source: sources/loaders/TBinaryWriter.js, line 49 Methods &lt;private&gt; _getAndUpdateOffsetBy(increment) Parameters: Name Type Description increment Source: sources/loaders/TBinaryWriter.js, line 189 Returns: Type * &lt;private&gt; _updateDataView() Source: sources/loaders/TBinaryWriter.js, line 221 isEndOfFile() Source: sources/loaders/TBinaryWriter.js, line 231 Returns: Type boolean setBuffer(buffer, offset, length) Parameters: Name Type Description buffer offset length Source: sources/loaders/TBinaryWriter.js, line 137 Returns: Type TBinaryReader setEndianess(endianess) Parameters: Name Type Description endianess Source: sources/loaders/TBinaryWriter.js, line 176 Returns: Type TBinaryReader setLength(value) Parameters: Name Type Description value Source: sources/loaders/TBinaryWriter.js, line 164 Returns: Type TBinaryReader setOffset(value) Parameters: Name Type Description value Source: sources/loaders/TBinaryWriter.js, line 152 Returns: Type TBinaryReader skipOffsetOf(nBytes) Parameters: Name Type Description nBytes Source: sources/loaders/TBinaryWriter.js, line 267 skipOffsetTo(offset) Parameters: Name Type Description offset Source: sources/loaders/TBinaryWriter.js, line 257 × Search results Close "},"TCloningFactory.html":{"id":"TCloningFactory.html","title":"Class: TCloningFactory","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TCloningFactory TCloningFactory The TCloningFactory is a kind a factory that performe instanciation by cloning a base instance. new TCloningFactory(parameters) Parameters: Name Type Description parameters Author: Tristan Valcke License: BSD-3-Clause Source: sources/cores/TCloningFactory.js, line 11 Extends TAbstractFactory Members allowOverride Inherited From: TStore#allowOverride Overrides: TAbstractFactory#allowOverride Source: sources/cores/TStore.js, line 104 collection Inherited From: TStore#collection Overrides: TAbstractFactory#collection Source: sources/cores/TStore.js, line 83 keys Inherited From: TStore#keys Overrides: TAbstractFactory#keys Source: sources/cores/TStore.js, line 165 keyValidators Inherited From: TStore#keyValidators Overrides: TAbstractFactory#keyValidators Source: sources/cores/TStore.js, line 125 values Inherited From: TStore#values Overrides: TAbstractFactory#values Source: sources/cores/TStore.js, line 174 valueValidators Inherited From: TStore#valueValidators Overrides: TAbstractFactory#valueValidators Source: sources/cores/TStore.js, line 146 Methods add(key, value, force) Allow to add new key value pair, the key cannot be null, undefined, or an empty string. In case the key already exist, the value will be overwritten if force params is true or this allow overriding else it throw an TypeError. Parameters: Name Type Default Description key * value * force Boolean false Inherited From: TStore#add Overrides: TAbstractFactory#add Source: sources/cores/TStore.js, line 237 Returns: The current instance (this) Type TStore clear() Clear the cache and reset collection to an empty object. Inherited From: TStore#clear Overrides: TAbstractFactory#clear Source: sources/cores/TStore.js, line 293 Returns: The current instance (this) Type TStore contain(key) Parameters: Name Type Description key Inherited From: TStore#contain Overrides: TAbstractFactory#contain Source: sources/cores/TStore.js, line 257 Returns: Type boolean create(key, parameters) Parameters: Name Type Argument Description key parameters &lt;repeatable&gt; Overrides: TAbstractFactory#create Source: sources/cores/TCloningFactory.js, line 30 Returns: Type * get(key) Return the value associated to the key. Parameters: Name Type Description key Inherited From: TStore#get Overrides: TAbstractFactory#get Source: sources/cores/TStore.js, line 269 Returns: Type * remove(key) Remove to value from the cache. Does nothing if the key does not exist. Parameters: Name Type Description key Inherited From: TStore#remove Overrides: TAbstractFactory#remove Source: sources/cores/TStore.js, line 281 Returns: The current instance (this) Type TStore setAllowOverride(value) Parameters: Name Type Description value Inherited From: TStore#setAllowOverride Overrides: TAbstractFactory#setAllowOverride Source: sources/cores/TStore.js, line 196 Returns: The current instance (this) Type TStore setCollection(value) Parameters: Name Type Description value Inherited From: TStore#setCollection Overrides: TAbstractFactory#setCollection Source: sources/cores/TStore.js, line 184 Returns: The current instance (this) Type TStore setKeyValidators(value) Parameters: Name Type Description value Inherited From: TStore#setKeyValidators Overrides: TAbstractFactory#setKeyValidators Source: sources/cores/TStore.js, line 208 Returns: The current instance (this) Type TStore setValueValidators(value) Parameters: Name Type Description value Inherited From: TStore#setValueValidators Overrides: TAbstractFactory#setValueValidators Source: sources/cores/TStore.js, line 220 Returns: The current instance (this) Type TStore × Search results Close "},"TDataBaseManager.html":{"id":"TDataBaseManager.html","title":"Class: TDataBaseManager","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TDataBaseManager TDataBaseManager The base class of database managers. Give the basic interface about database call. new TDataBaseManager() Author: Tristan Valcke License: BSD-3-Clause Source: sources/managers/TDataBaseManager.js, line 1 Requires: HttpVerb ResponseType HttpStatusCode TOrchestrator TStore Example Todo Requires HttpVerb ResponseType HttpStatusCode TOrchestrator TStore Members &lt;private, static&gt; _requestId :number Type: number Source: sources/managers/TDataBaseManager.js, line 1606 &lt;private, static&gt; _requests :Object Type: Object Source: sources/managers/TDataBaseManager.js, line 1613 &lt;static&gt; requestId Source: sources/managers/TDataBaseManager.js, line 104 basePath Source: sources/managers/TDataBaseManager.js, line 146 bunchSize Source: sources/managers/TDataBaseManager.js, line 185 logger Source: sources/managers/TDataBaseManager.js, line 264 requestAggregationTime Source: sources/managers/TDataBaseManager.js, line 204 requestsConcurrency Source: sources/managers/TDataBaseManager.js, line 234 responseType Source: sources/managers/TDataBaseManager.js, line 166 Methods &lt;private&gt; _closeRequest(request) Will remove the request from the process queue Parameters: Name Type Description request Source: sources/managers/TDataBaseManager.js, line 899 &lt;private&gt; _createMany(datas, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description datas onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1134 &lt;private&gt; _createOne(data, onLoadCallback, onProgressCallback, onErrorCallback) The private _create method allow to format a server request to create objects with the given data and get creation result with given callbacks. Parameters: Name Type Description data object The data to send. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1107 &lt;private&gt; _deleteAll(onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1575 &lt;private&gt; _deleteMany(ids, onLoadCallback, onProgressCallback, onErrorCallback) The private _deleteMany method will format a server request to delete objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1518 &lt;private&gt; _deleteOne(id, onLoadCallback, onProgressCallback, onErrorCallback) The private _deleteOne method will format a server request to delete a single object with the given id. Parameters: Name Type Description id string The object's id of the object to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1490 &lt;private&gt; _deleteWhere(query, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1547 &lt;private&gt; _dispatchResponse(response, responseType, onLoadCallback, onProgressCallback, onErrorCallback) Dispatch response to the correct handler in function of response type Parameters: Name Type Description response responseType onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 845 &lt;abstract, private&gt; _onArrayBuffer(data, onSuccess, onProgress, onError) The abstract private _onArrayBuffer method must be overridden in case the parser expect an array buffer as input data. Parameters: Name Type Description data ArrayBuffer The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1056 &lt;abstract, private&gt; _onBlob(data, onSuccess, onProgress, onError) The abstract private _onBlob method must be overridden in case the parser expect a blob as input data. Parameters: Name Type Description data Blob The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1069 &lt;private&gt; _onEnd(request, onLoadCallback, response) The private _onEnd method is call after all other callback and perform request type checking in view to upadte cache, waitingqueue and callback if needed, to finally close the request Parameters: Name Type Description request onLoadCallback response Source: sources/managers/TDataBaseManager.js, line 791 &lt;private&gt; _onError(onErrorCallback, errorEvent) The private _onError method will handle all error event from server and submit them to the logger if exist else to the user onErrorCallback Parameters: Name Type Description onErrorCallback function The onError callback, which is call when server respond with an error to the request. errorEvent object A server error event Source: sources/managers/TDataBaseManager.js, line 766 &lt;abstract, private&gt; _onJson(data, onSuccess, onProgress, onError) The abstract private _onJson method must be overridden in case the parser expect json as input data. Parameters: Name Type Description data json The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1082 &lt;private&gt; _onLoad(onLoadCallback, onProgressCallback, onErrorCallback, loadEvent) The private _onLoad method allow to process the server response in an abstract way to check against error and wrong status code. It will bind user callback on each type of returns, and dispatch in sub methods in function of the response type. Parameters: Name Type Description onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. loadEvent object The server response object to parse. Source: sources/managers/TDataBaseManager.js, line 634 &lt;private&gt; _onProgress(onProgressCallback, progressEvent) The private _onProgress method will handle all progress event from server and submit them to the logger if exist else to the user onProgressCallback Parameters: Name Type Description onProgressCallback function The onProgress callback, which is call during the response incoming. progressEvent object The server progress event. Source: sources/managers/TDataBaseManager.js, line 745 &lt;abstract, private&gt; _onText(data, onSuccess, onProgress, onError) The abstract private _onText method must be overridden in case the parser expect a string/text as input data. Parameters: Name Type Description data string The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1095 &lt;private&gt; _readAll(projection, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description projection onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1322 &lt;private&gt; _readMany(ids, onLoadCallback, onProgressCallback, onErrorCallback) The private _readMany method will format a server request to get objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1217 &lt;private&gt; _readOne(id, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateOne method will format a server request to get a single object with the given id. Parameters: Name Type Description id string The object's id of the object to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1162 &lt;private&gt; _readWhere(query, projection, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query projection onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1282 &lt;private&gt; _retrieveCachedValues(ids) Parameters: Name Type Description ids Source: sources/managers/TDataBaseManager.js, line 925 Returns: Type Object &lt;private&gt; _updateAll(update, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description update onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1457 &lt;private&gt; _updateCache(datas) Parameters: Name Type Description datas Source: sources/managers/TDataBaseManager.js, line 959 &lt;private&gt; _updateMany(ids, update, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateMany method will format a server request to update objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to update. update onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1396 &lt;private&gt; _updateOne(id, update, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateOne method will format a server request to update a single object with the given id. Parameters: Name Type Description id string The object's id of the object to update. update onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1365 &lt;private&gt; _updateWaitingQueue() Source: sources/managers/TDataBaseManager.js, line 998 &lt;private&gt; _updateWhere(query, update, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query update onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1427 aggregateQueue() Source: sources/managers/TDataBaseManager.js, line 353 create(data, onLoadCallback, onProgressCallback, onErrorCallback) The create method allow to create a new ressource on the server. Providing a single object that match a database schema, or an array of them. Parameters: Name Type Description data object | array.&lt;object&gt; The data to send for create new objects. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 445 delete(condition, onLoadCallback, onProgressCallback, onErrorCallback) The delete method allow to remove data from the server, using a single id or an array of them. Parameters: Name Type Description condition string | array.&lt;string&gt; | object | null The ids of objects to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 582 processQueue() Source: sources/managers/TDataBaseManager.js, line 393 read(condition, onLoadCallback, onProgressCallback, onErrorCallback) The read method allow to retrieve data from the server, using a single id or an array of them. Parameters: Name Type Description condition string | array.&lt;string&gt; The ids of objects to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 479 setBasePath(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 283 Returns: Type TDataBaseManager setBunchSize(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 307 Returns: Type TDataBaseManager setLogger(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 343 Returns: Type TDataBaseManager setRequestAggregationTime(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 319 Returns: Type TDataBaseManager setRequestsConcurrency(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 331 Returns: Type TDataBaseManager setResponseType(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 295 Returns: Type TDataBaseManager update(condition, update, onLoadCallback, onProgressCallback, onErrorCallback) The update method allow to update data on the server, using a single id or an array of them, and a corresponding object about the data to update. Parameters: Name Type Description condition string | array.&lt;string&gt; The ids of objects to update. update object The update data ( need to match the related database schema ! ). In case of multiple ids they will be updated with the same given data. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 526 Class: TDataBaseManager TDataBaseManager new TDataBaseManager(parameters) Parameters: Name Type Description parameters Source: sources/managers/TDataBaseManager.js, line 98 Members &lt;private, static&gt; _requestId :number Type: number Source: sources/managers/TDataBaseManager.js, line 1606 &lt;private, static&gt; _requests :Object Type: Object Source: sources/managers/TDataBaseManager.js, line 1613 &lt;static&gt; requestId Source: sources/managers/TDataBaseManager.js, line 104 basePath Source: sources/managers/TDataBaseManager.js, line 146 bunchSize Source: sources/managers/TDataBaseManager.js, line 185 logger Source: sources/managers/TDataBaseManager.js, line 264 requestAggregationTime Source: sources/managers/TDataBaseManager.js, line 204 requestsConcurrency Source: sources/managers/TDataBaseManager.js, line 234 responseType Source: sources/managers/TDataBaseManager.js, line 166 Methods &lt;private&gt; _closeRequest(request) Will remove the request from the process queue Parameters: Name Type Description request Source: sources/managers/TDataBaseManager.js, line 899 &lt;private&gt; _createMany(datas, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description datas onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1134 &lt;private&gt; _createOne(data, onLoadCallback, onProgressCallback, onErrorCallback) The private _create method allow to format a server request to create objects with the given data and get creation result with given callbacks. Parameters: Name Type Description data object The data to send. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1107 &lt;private&gt; _deleteAll(onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1575 &lt;private&gt; _deleteMany(ids, onLoadCallback, onProgressCallback, onErrorCallback) The private _deleteMany method will format a server request to delete objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1518 &lt;private&gt; _deleteOne(id, onLoadCallback, onProgressCallback, onErrorCallback) The private _deleteOne method will format a server request to delete a single object with the given id. Parameters: Name Type Description id string The object's id of the object to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1490 &lt;private&gt; _deleteWhere(query, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1547 &lt;private&gt; _dispatchResponse(response, responseType, onLoadCallback, onProgressCallback, onErrorCallback) Dispatch response to the correct handler in function of response type Parameters: Name Type Description response responseType onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 845 &lt;abstract, private&gt; _onArrayBuffer(data, onSuccess, onProgress, onError) The abstract private _onArrayBuffer method must be overridden in case the parser expect an array buffer as input data. Parameters: Name Type Description data ArrayBuffer The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1056 &lt;abstract, private&gt; _onBlob(data, onSuccess, onProgress, onError) The abstract private _onBlob method must be overridden in case the parser expect a blob as input data. Parameters: Name Type Description data Blob The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1069 &lt;private&gt; _onEnd(request, onLoadCallback, response) The private _onEnd method is call after all other callback and perform request type checking in view to upadte cache, waitingqueue and callback if needed, to finally close the request Parameters: Name Type Description request onLoadCallback response Source: sources/managers/TDataBaseManager.js, line 791 &lt;private&gt; _onError(onErrorCallback, errorEvent) The private _onError method will handle all error event from server and submit them to the logger if exist else to the user onErrorCallback Parameters: Name Type Description onErrorCallback function The onError callback, which is call when server respond with an error to the request. errorEvent object A server error event Source: sources/managers/TDataBaseManager.js, line 766 &lt;abstract, private&gt; _onJson(data, onSuccess, onProgress, onError) The abstract private _onJson method must be overridden in case the parser expect json as input data. Parameters: Name Type Description data json The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1082 &lt;private&gt; _onLoad(onLoadCallback, onProgressCallback, onErrorCallback, loadEvent) The private _onLoad method allow to process the server response in an abstract way to check against error and wrong status code. It will bind user callback on each type of returns, and dispatch in sub methods in function of the response type. Parameters: Name Type Description onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. loadEvent object The server response object to parse. Source: sources/managers/TDataBaseManager.js, line 634 &lt;private&gt; _onProgress(onProgressCallback, progressEvent) The private _onProgress method will handle all progress event from server and submit them to the logger if exist else to the user onProgressCallback Parameters: Name Type Description onProgressCallback function The onProgress callback, which is call during the response incoming. progressEvent object The server progress event. Source: sources/managers/TDataBaseManager.js, line 745 &lt;abstract, private&gt; _onText(data, onSuccess, onProgress, onError) The abstract private _onText method must be overridden in case the parser expect a string/text as input data. Parameters: Name Type Description data string The retrieved data to parse. onSuccess function The onLoad callback, which is call when parser parse with success the data. onProgress function The onProgress callback, which is call during the parsing. onError function The onError callback, which is call when parser throw an error during parsing. Source: sources/managers/TDataBaseManager.js, line 1095 &lt;private&gt; _readAll(projection, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description projection onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1322 &lt;private&gt; _readMany(ids, onLoadCallback, onProgressCallback, onErrorCallback) The private _readMany method will format a server request to get objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1217 &lt;private&gt; _readOne(id, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateOne method will format a server request to get a single object with the given id. Parameters: Name Type Description id string The object's id of the object to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1162 &lt;private&gt; _readWhere(query, projection, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query projection onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1282 &lt;private&gt; _retrieveCachedValues(ids) Parameters: Name Type Description ids Source: sources/managers/TDataBaseManager.js, line 925 Returns: Type Object &lt;private&gt; _updateAll(update, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description update onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1457 &lt;private&gt; _updateCache(datas) Parameters: Name Type Description datas Source: sources/managers/TDataBaseManager.js, line 959 &lt;private&gt; _updateMany(ids, update, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateMany method will format a server request to update objects with id in the ids array. Parameters: Name Type Description ids array.&lt;string&gt; The ids of objects to update. update onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1396 &lt;private&gt; _updateOne(id, update, onLoadCallback, onProgressCallback, onErrorCallback) The private _updateOne method will format a server request to update a single object with the given id. Parameters: Name Type Description id string The object's id of the object to update. update onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 1365 &lt;private&gt; _updateWaitingQueue() Source: sources/managers/TDataBaseManager.js, line 998 &lt;private&gt; _updateWhere(query, update, onLoadCallback, onProgressCallback, onErrorCallback) Parameters: Name Type Description query update onLoadCallback onProgressCallback onErrorCallback Source: sources/managers/TDataBaseManager.js, line 1427 aggregateQueue() Source: sources/managers/TDataBaseManager.js, line 353 create(data, onLoadCallback, onProgressCallback, onErrorCallback) The create method allow to create a new ressource on the server. Providing a single object that match a database schema, or an array of them. Parameters: Name Type Description data object | array.&lt;object&gt; The data to send for create new objects. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 445 delete(condition, onLoadCallback, onProgressCallback, onErrorCallback) The delete method allow to remove data from the server, using a single id or an array of them. Parameters: Name Type Description condition string | array.&lt;string&gt; | object | null The ids of objects to delete. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 582 processQueue() Source: sources/managers/TDataBaseManager.js, line 393 read(condition, onLoadCallback, onProgressCallback, onErrorCallback) The read method allow to retrieve data from the server, using a single id or an array of them. Parameters: Name Type Description condition string | array.&lt;string&gt; The ids of objects to retrieve. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 479 setBasePath(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 283 Returns: Type TDataBaseManager setBunchSize(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 307 Returns: Type TDataBaseManager setLogger(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 343 Returns: Type TDataBaseManager setRequestAggregationTime(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 319 Returns: Type TDataBaseManager setRequestsConcurrency(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 331 Returns: Type TDataBaseManager setResponseType(value) Parameters: Name Type Description value Source: sources/managers/TDataBaseManager.js, line 295 Returns: Type TDataBaseManager update(condition, update, onLoadCallback, onProgressCallback, onErrorCallback) The update method allow to update data on the server, using a single id or an array of them, and a corresponding object about the data to update. Parameters: Name Type Description condition string | array.&lt;string&gt; The ids of objects to update. update object The update data ( need to match the related database schema ! ). In case of multiple ids they will be updated with the same given data. onLoadCallback function The onLoad callback, which is call when server respond with success to the request. onProgressCallback function The onProgress callback, which is call during the response incoming. onErrorCallback function The onError callback, which is call when server respond with an error to the request. Source: sources/managers/TDataBaseManager.js, line 526 × Search results Close "},"TIdFactory.html":{"id":"TIdFactory.html","title":"Class: TIdFactory","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TIdFactory TIdFactory new TIdFactory() Deprecated: Yes Source: sources/utils/TIdFactory.js, line 22 × Search results Close "},"TInstancingFactory.html":{"id":"TInstancingFactory.html","title":"Class: TInstancingFactory","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TInstancingFactory TInstancingFactory The TInstancingFactory is a kind a factory that performe instanciation based on registred constructor. new TInstancingFactory(parameters) The ctor description Parameters: Name Type Description parameters Author: Tristan Valcke License: BSD-3-Clause Source: sources/cores/TInstancingFactory.js, line 11 Extends TAbstractFactory Members allowOverride Inherited From: TStore#allowOverride Overrides: TAbstractFactory#allowOverride Source: sources/cores/TStore.js, line 104 collection Inherited From: TStore#collection Overrides: TAbstractFactory#collection Source: sources/cores/TStore.js, line 83 keys Inherited From: TStore#keys Overrides: TAbstractFactory#keys Source: sources/cores/TStore.js, line 165 keyValidators Inherited From: TStore#keyValidators Overrides: TAbstractFactory#keyValidators Source: sources/cores/TStore.js, line 125 values Inherited From: TStore#values Overrides: TAbstractFactory#values Source: sources/cores/TStore.js, line 174 valueValidators Inherited From: TStore#valueValidators Overrides: TAbstractFactory#valueValidators Source: sources/cores/TStore.js, line 146 Methods add(key, value, force) Allow to add new key value pair, the key cannot be null, undefined, or an empty string. In case the key already exist, the value will be overwritten if force params is true or this allow overriding else it throw an TypeError. Parameters: Name Type Default Description key * value * force Boolean false Inherited From: TStore#add Overrides: TAbstractFactory#add Source: sources/cores/TStore.js, line 237 Returns: The current instance (this) Type TStore clear() Clear the cache and reset collection to an empty object. Inherited From: TStore#clear Overrides: TAbstractFactory#clear Source: sources/cores/TStore.js, line 293 Returns: The current instance (this) Type TStore contain(key) Parameters: Name Type Description key Inherited From: TStore#contain Overrides: TAbstractFactory#contain Source: sources/cores/TStore.js, line 257 Returns: Type boolean create(key, parameters) Parameters: Name Type Argument Description key parameters &lt;repeatable&gt; Overrides: TAbstractFactory#create Source: sources/cores/TInstancingFactory.js, line 31 Returns: Type * get(key) Return the value associated to the key. Parameters: Name Type Description key Inherited From: TStore#get Overrides: TAbstractFactory#get Source: sources/cores/TStore.js, line 269 Returns: Type * remove(key) Remove to value from the cache. Does nothing if the key does not exist. Parameters: Name Type Description key Inherited From: TStore#remove Overrides: TAbstractFactory#remove Source: sources/cores/TStore.js, line 281 Returns: The current instance (this) Type TStore setAllowOverride(value) Parameters: Name Type Description value Inherited From: TStore#setAllowOverride Overrides: TAbstractFactory#setAllowOverride Source: sources/cores/TStore.js, line 196 Returns: The current instance (this) Type TStore setCollection(value) Parameters: Name Type Description value Inherited From: TStore#setCollection Overrides: TAbstractFactory#setCollection Source: sources/cores/TStore.js, line 184 Returns: The current instance (this) Type TStore setKeyValidators(value) Parameters: Name Type Description value Inherited From: TStore#setKeyValidators Overrides: TAbstractFactory#setKeyValidators Source: sources/cores/TStore.js, line 208 Returns: The current instance (this) Type TStore setValueValidators(value) Parameters: Name Type Description value Inherited From: TStore#setValueValidators Overrides: TAbstractFactory#setValueValidators Source: sources/cores/TStore.js, line 220 Returns: The current instance (this) Type TStore × Search results Close "},"TKeyboardController.html":{"id":"TKeyboardController.html","title":"Class: TKeyboardController","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TKeyboardController TKeyboardController TKeyboardController allow single source of thruth for keyboard state checking (based on Lee Stemkoski work). See TKeyboardController.k object data below for names of keys whose state can be polled new TKeyboardController(parameters) Parameters: Name Type Description parameters Author: Tristan Valcke License: BSD-3-Clause Source: sources/input_devices/TKeyboardController.js, line 25 Example // (1) create a global variable: var keyboard = new TKeyboardController(); // (2) during main loop: keyboard.update(); // (3) check state of keys: keyboard.down(\"A\") -- true for one update cycle after key is pressed keyboard.pressed(\"A\") -- true as long as key is being pressed keyboard.up(\"A\") -- true for one update cycle after key is released Members &lt;static&gt; k :Keys Type: Keys Source: sources/input_devices/TKeyboardController.js, line 150 &lt;static&gt; status :Object Type: Object Source: sources/input_devices/TKeyboardController.js, line 156 Methods &lt;static&gt; keyName(keyCode) Parameters: Name Type Description keyCode Source: sources/input_devices/TKeyboardController.js, line 32 Returns: Type string &lt;static&gt; onKeyDown(event) Parameters: Name Type Description event Source: sources/input_devices/TKeyboardController.js, line 51 &lt;static&gt; onKeyUp(event) Parameters: Name Type Description event Source: sources/input_devices/TKeyboardController.js, line 41 debug() Source: sources/input_devices/TKeyboardController.js, line 136 down(keyName) Parameters: Name Type Description keyName Source: sources/input_devices/TKeyboardController.js, line 111 Returns: Type * pressed(keyName) Parameters: Name Type Description keyName Source: sources/input_devices/TKeyboardController.js, line 120 Returns: Type * | pressed | boolean up(keyName) Parameters: Name Type Description keyName Source: sources/input_devices/TKeyboardController.js, line 129 Returns: Type * update() Source: sources/input_devices/TKeyboardController.js, line 82 × Search results Close "},"TMouseController.html":{"id":"TMouseController.html","title":"Class: TMouseController","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TMouseController TMouseController TMouseController allow single source of thruth for mouse state checking new TMouseController() Author: Tristan Valcke License: BSD-3-Clause Source: sources/input_devices/TMouseController.js, line 20 Example (1) create a global variable: var keyboard = new TKeyboardController(); (2) during main loop: keyboard.update(); (3) check state of keys: keyboard.down(\"A\") -- true for one update cycle after key is pressed keyboard.pressed(\"A\") -- true as long as key is being pressed keyboard.up(\"A\") -- true for one update cycle after key is released See TKeyboardController.k object data below for names of keys whose state can be polled × Search results Close "},"TStore.html":{"id":"TStore.html","title":"Class: TStore","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: TStore TStore TStore is a simple javascript object whose purpose is to store some ket/value data to future usage. It could be enable/disable. new TStore( [parameters]) Parameters: Name Type Argument Default Description parameters Object &lt;optional&gt; {} Properties Name Type Argument Default Description collection Object &lt;optional&gt; {} allowOverride Boolean &lt;optional&gt; false keyValidators Array.&lt;function()&gt; &lt;optional&gt; [] valueValidators Array.&lt;function()&gt; &lt;optional&gt; [] Author: Tristan Valcke License: BSD-3-Clause Source: sources/cores/TStore.js, line 24 Example var cache = new TCache() cache.add( 'foo', 'bar' ) TLogger.log( cache.get('foo') ) // 'bar' Members allowOverride Source: sources/cores/TStore.js, line 104 collection Source: sources/cores/TStore.js, line 83 keys Source: sources/cores/TStore.js, line 165 keyValidators Source: sources/cores/TStore.js, line 125 values Source: sources/cores/TStore.js, line 174 valueValidators Source: sources/cores/TStore.js, line 146 Methods &lt;private, static&gt; _validate(value, validators) Parameters: Name Type Description value validators Source: sources/cores/TStore.js, line 32 add(key, value, force) Allow to add new key value pair, the key cannot be null, undefined, or an empty string. In case the key already exist, the value will be overwritten if force params is true or this allow overriding else it throw an TypeError. Parameters: Name Type Default Description key * value * force Boolean false Source: sources/cores/TStore.js, line 237 Returns: The current instance (this) Type TStore clear() Clear the cache and reset collection to an empty object. Source: sources/cores/TStore.js, line 293 Returns: The current instance (this) Type TStore contain(key) Parameters: Name Type Description key Source: sources/cores/TStore.js, line 257 Returns: Type boolean get(key) Return the value associated to the key. Parameters: Name Type Description key Source: sources/cores/TStore.js, line 269 Returns: Type * remove(key) Remove to value from the cache. Does nothing if the key does not exist. Parameters: Name Type Description key Source: sources/cores/TStore.js, line 281 Returns: The current instance (this) Type TStore setAllowOverride(value) Parameters: Name Type Description value Source: sources/cores/TStore.js, line 196 Returns: The current instance (this) Type TStore setCollection(value) Parameters: Name Type Description value Source: sources/cores/TStore.js, line 184 Returns: The current instance (this) Type TStore setKeyValidators(value) Parameters: Name Type Description value Source: sources/cores/TStore.js, line 208 Returns: The current instance (this) Type TStore setValueValidators(value) Parameters: Name Type Description value Source: sources/cores/TStore.js, line 220 Returns: The current instance (this) Type TStore × Search results Close "},"WebAPI.html":{"id":"WebAPI.html","title":"Class: WebAPI","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPI WebAPI The abstract class to use standardized webapi. &lt;abstract&gt; new WebAPI(parameters) Parameters: Name Type Description parameters Object An object containing all parameters to pass through the inheritance chain to initialize this instance Properties Name Type Argument Default Description allowAnyOrigins Boolean &lt;optional&gt; false A boolean to allow or not any origins calls allowedOrigins Array.&lt;AllowedOrigin&gt; &lt;optional&gt; [] An array containing configured allowed origins requestTimeout Number &lt;optional&gt; 2000 The request timeout before throw an error Source: sources/webapis/WebAPI.js, line 41 Members allowedOrigins Source: sources/webapis/WebAPI.js, line 105 allowedOrigins Source: sources/webapis/WebAPI.js, line 112 logger Source: sources/webapis/WebAPI.js, line 87 logger Source: sources/webapis/WebAPI.js, line 94 methods Source: sources/webapis/WebAPI.js, line 162 methods Source: sources/webapis/WebAPI.js, line 169 requestTimeout Source: sources/webapis/WebAPI.js, line 143 requestTimeout Source: sources/webapis/WebAPI.js, line 150 Methods &lt;private&gt; _broadcastReadyMessage() Source: sources/webapis/WebAPI.js, line 376 &lt;async, private&gt; _dispatchMessageFrom(origin, message) Parameters: Name Type Description origin message Source: sources/webapis/WebAPI.js, line 460 &lt;private&gt; _getAllowedOriginBy(propertyName, value) Parameters: Name Type Description propertyName value Source: sources/webapis/WebAPI.js, line 323 Returns: Type WebAPIOrigin &lt;private&gt; _getOriginWindow(originURI) Parameters: Name Type Description originURI Source: sources/webapis/WebAPI.js, line 333 Returns: Type Window &lt;private&gt; _isInIframe() Source: sources/webapis/WebAPI.js, line 237 Returns: Type boolean &lt;private&gt; _isNotAllowedForAllMethods(origin) Parameters: Name Type Description origin WebAPIOrigin Source: sources/webapis/WebAPI.js, line 289 Returns: Type boolean &lt;private&gt; _isNotAllowedForAllOrigins() Source: sources/webapis/WebAPI.js, line 252 Returns: Type boolean &lt;private&gt; _isNotAllowedMethod(origin, methodName) Parameters: Name Type Description origin WebAPIOrigin methodName string Source: sources/webapis/WebAPI.js, line 300 Returns: Type boolean &lt;private&gt; _isNotAllowedOrigin(originURI) Parameters: Name Type Description originURI Source: sources/webapis/WebAPI.js, line 264 Returns: Type boolean &lt;private&gt; _isSameOrigin(originURI) Parameters: Name Type Description originURI Source: sources/webapis/WebAPI.js, line 279 Returns: Type boolean &lt;private&gt; _methodNotExist(methodName) Parameters: Name Type Description methodName Source: sources/webapis/WebAPI.js, line 310 Returns: Type boolean &lt;async, private&gt; _onMessage(event) Parameters: Name Type Description event Source: sources/webapis/WebAPI.js, line 408 Returns: Type Promise.&lt;void&gt; _onReadyFrom(origin, message) Parameters: Name Type Description origin message Source: sources/webapis/WebAPI.js, line 502 &lt;async&gt; _onRequestFrom(origin, request) Parameters: Name Type Description origin request Source: sources/webapis/WebAPI.js, line 523 _onResponseFrom(origin, response) Parameters: Name Type Description origin response Source: sources/webapis/WebAPI.js, line 560 &lt;private&gt; _processMessageQueueOf(origin) Parameters: Name Type Description origin WebAPIOrigin Source: sources/webapis/WebAPI.js, line 363 onDataFrom(origin, message) Parameters: Name Type Description origin message Source: sources/webapis/WebAPI.js, line 605 &lt;private&gt; onErrorFrom(origin, message) Parameters: Name Type Description origin message Source: sources/webapis/WebAPI.js, line 594 onMessageFrom(origin, message) Parameters: Name Type Description origin message Source: sources/webapis/WebAPI.js, line 616 postDataTo(originId, data) Parameters: Name Type Description originId data Source: sources/webapis/WebAPI.js, line 709 postErrorTo(originId, error) Parameters: Name Type Description originId error WebAPIMessageError | String Source: sources/webapis/WebAPI.js, line 697 postMessageTo(originId, message, force) Parameters: Name Type Default Description originId message force false Source: sources/webapis/WebAPI.js, line 722 postReadyTo(originId, ready) Parameters: Name Type Description originId ready Source: sources/webapis/WebAPI.js, line 634 postRequestTo(originId, request, params) Parameters: Name Type Argument Description originId request params &lt;repeatable&gt; Source: sources/webapis/WebAPI.js, line 648 Returns: Type Promise.&lt;unknown&gt; postResponseTo(originId, request, reponse) Parameters: Name Type Description originId request reponse Source: sources/webapis/WebAPI.js, line 685 setAllowedOrigins(value) Parameters: Name Type Description value Array.&lt;WebAPIOrigin&gt; Source: sources/webapis/WebAPI.js, line 190 Returns: Type AbstractWebAPI setLogger(value) Parameters: Name Type Description value TLogger Source: sources/webapis/WebAPI.js, line 181 Returns: Type AbstractWebAPI setMethods(value) Parameters: Name Type Description value Array Source: sources/webapis/WebAPI.js, line 208 Returns: Type AbstractWebAPI setRequestTimeout(value) Parameters: Name Type Description value Number Source: sources/webapis/WebAPI.js, line 199 Returns: Type AbstractWebAPI × Search results Close "},"WebAPIMessage.html":{"id":"WebAPIMessage.html","title":"Class: WebAPIMessage","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessage WebAPIMessage The base class for all web api message new WebAPIMessage(type) Parameters: Name Type Description type string Source: sources/webapis/messages/WebAPIMessage.js, line 21 Members id Source: sources/webapis/messages/WebAPIMessage.js, line 41 isWebAPIMessage :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessage.js, line 27 type Source: sources/webapis/messages/WebAPIMessage.js, line 49 Methods toJSON() Source: sources/webapis/messages/WebAPIMessage.js, line 64 Returns: Type Object × Search results Close "},"WebAPIMessageData.html":{"id":"WebAPIMessageData.html","title":"Class: WebAPIMessageData","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageData WebAPIMessageData The web api message for serializable data transfert new WebAPIMessageData(data) Parameters: Name Type Description data Author: Tristan Valcke Source: sources/webapis/messages/WebAPIMessageData.js, line 15 Extends WebAPIMessage Members id Inherited From: WebAPIMessage#id Overrides: WebAPIMessage#id Source: sources/webapis/messages/WebAPIMessage.js, line 41 isWebAPIMessage :boolean Type: boolean Inherited From: WebAPIMessage#isWebAPIMessage Overrides: WebAPIMessage#isWebAPIMessage Source: sources/webapis/messages/WebAPIMessage.js, line 27 isWebAPIMessageData :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessageData.js, line 21 type Inherited From: WebAPIMessage#type Overrides: WebAPIMessage#type Source: sources/webapis/messages/WebAPIMessage.js, line 49 Methods toJSON() Overrides: WebAPIMessage#toJSON Source: sources/webapis/messages/WebAPIMessageData.js, line 37 Returns: Type Object × Search results Close "},"WebAPIMessageError.html":{"id":"WebAPIMessageError.html","title":"Class: WebAPIMessageError","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageError WebAPIMessageError new WebAPIMessageError(error) Parameters: Name Type Description error Source: sources/webapis/messages/WebAPIMessageError.js, line 24 Members error :Object The internal error to send Type: Object Source: sources/webapis/messages/WebAPIMessageError.js, line 31 Methods toJSON() Source: sources/webapis/messages/WebAPIMessageError.js, line 67 Returns: Type Object × Search results Close "},"WebAPIMessageEvent.html":{"id":"WebAPIMessageEvent.html","title":"Class: WebAPIMessageEvent","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageEvent WebAPIMessageEvent The web api message for serializable data transfert new WebAPIMessageEvent(data) Parameters: Name Type Description data Author: Tristan Valcke Source: sources/webapis/messages/WebAPIMessageEvent.js, line 20 Extends WebAPIMessage Members id Inherited From: WebAPIMessage#id Overrides: WebAPIMessage#id Source: sources/webapis/messages/WebAPIMessage.js, line 41 isWebAPIMessage :boolean Type: boolean Inherited From: WebAPIMessage#isWebAPIMessage Overrides: WebAPIMessage#isWebAPIMessage Source: sources/webapis/messages/WebAPIMessage.js, line 27 isWebAPIMessageEvent :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessageEvent.js, line 26 type Inherited From: WebAPIMessage#type Overrides: WebAPIMessage#type Source: sources/webapis/messages/WebAPIMessage.js, line 49 Methods toJSON() Overrides: WebAPIMessage#toJSON Source: sources/webapis/messages/WebAPIMessageEvent.js, line 43 Returns: Type Object × Search results Close "},"WebAPIMessageProgress.html":{"id":"WebAPIMessageProgress.html","title":"Class: WebAPIMessageProgress","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageProgress WebAPIMessageProgress new WebAPIMessageProgress(loaded, total) Parameters: Name Type Default Description loaded 0 total 0 Source: sources/webapis/messages/WebAPIMessageProgress.js, line 10 Members loaded Source: sources/webapis/messages/WebAPIMessageProgress.js, line 31 total Source: sources/webapis/messages/WebAPIMessageProgress.js, line 44 Methods &lt;private&gt; _checkIfLengthComputable() Source: sources/webapis/messages/WebAPIMessageProgress.js, line 57 toJSON() Source: sources/webapis/messages/WebAPIMessageProgress.js, line 76 Returns: Type Object × Search results Close "},"WebAPIMessageReady.html":{"id":"WebAPIMessageReady.html","title":"Class: WebAPIMessageReady","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageReady WebAPIMessageReady Internal ready message to broadcast for prevent bad or dead messager new WebAPIMessageReady() Source: sources/webapis/messages/WebAPIMessageReady.js, line 15 Members isWebAPIMessageReady :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessageReady.js, line 21 Methods toJSON() Source: sources/webapis/messages/WebAPIMessageReady.js, line 54 Returns: Type Object × Search results Close "},"WebAPIMessageRequest.html":{"id":"WebAPIMessageRequest.html","title":"Class: WebAPIMessageRequest","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageRequest WebAPIMessageRequest Special message to request a distant method and expect result. new WebAPIMessageRequest(method, parameters) Parameters: Name Type Description method parameters Source: sources/webapis/messages/WebAPIMessageRequest.js, line 18 Members isWebAPIMessageRequest :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessageRequest.js, line 24 method Source: sources/webapis/messages/WebAPIMessageRequest.js, line 42 method Source: sources/webapis/messages/WebAPIMessageRequest.js, line 50 parameters Source: sources/webapis/messages/WebAPIMessageRequest.js, line 62 parameters Source: sources/webapis/messages/WebAPIMessageRequest.js, line 70 Methods toJSON() Source: sources/webapis/messages/WebAPIMessageRequest.js, line 80 Returns: Type Object × Search results Close "},"WebAPIMessageResponse.html":{"id":"WebAPIMessageResponse.html","title":"Class: WebAPIMessageResponse","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WebAPIMessageResponse WebAPIMessageResponse The message response to a message request new WebAPIMessageResponse(request, result) Parameters: Name Type Description request result Source: sources/webapis/messages/WebAPIMessageResponse.js, line 15 Members isWebApiMessageResponse :boolean Type: boolean Source: sources/webapis/messages/WebAPIMessageResponse.js, line 21 request Source: sources/webapis/messages/WebAPIMessageResponse.js, line 39 result Source: sources/webapis/messages/WebAPIMessageResponse.js, line 54 Methods toJSON() Source: sources/webapis/messages/WebAPIMessageResponse.js, line 66 Returns: Type Object × Search results Close "},"WorkerMessage.html":{"id":"WorkerMessage.html","title":"Class: WorkerMessage","body":" Itee-Client Modules Config-EsLintConfig-JsDocConfig-Karma-BenchsConfig-Karma-UnitsConfig-Rollupconfigs/Rollup-TestInputDeviceLoadersManagersWebAPIWebAPI/MessagesWorkersWorkers/Messages Classes AbstractWorkerIdGeneratorTAbstractFactoryTBinaryReaderTBinaryWriterTCloningFactoryTDataBaseManagerTIdFactoryTInstancingFactoryTKeyboardControllerTMouseControllerTStoreWebAPIWebAPIMessageWebAPIMessageDataWebAPIMessageErrorWebAPIMessageEventWebAPIMessageProgressWebAPIMessageReadyWebAPIMessageRequestWebAPIMessageResponseWorkerMessage Global ByteEndiannessEnumFileFormatHttpStatusCodeHttpVerbKeysMimeTypeMouseRequestTypeResponseTypeTIdFactoryType Class: WorkerMessage WorkerMessage new WorkerMessage() Author: Tristan Valcke Source: sources/workers/messages/WorkerMessage.js, line 5 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
